{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Python-Facebook's documentation! A Python wrapper around for Facebook Graph API. Author: IkarosKun merle.liukun@gmail.com Introduction The Graph API is the primary way for apps to read and write to the Facebook social graph. This library provides a Python interface for the Facebook Graph API . Library could work on Python 3.6+ Python 2.7 According to plan, v0.9.x series will be the last to support Python 2.7.","title":"Introduction"},{"location":"#welcome-to-python-facebooks-documentation","text":"A Python wrapper around for Facebook Graph API. Author: IkarosKun merle.liukun@gmail.com","title":"Welcome to Python-Facebook's documentation!"},{"location":"#introduction","text":"The Graph API is the primary way for apps to read and write to the Facebook social graph. This library provides a Python interface for the Facebook Graph API . Library could work on Python 3.6+ Python 2.7 According to plan, v0.9.x series will be the last to support Python 2.7.","title":"Introduction"},{"location":"CHANGELOG/","text":"Changelog All notable changes to this project will be documented in this file. 0.15.0 (2022-09-26) Feat Add v15.0 support. Deprecations Remove version v7.0 support. 0.14.5 (2022-09-02) Feat Add simple support for facebook server sent events api. Make scopes work well in auth flow. 0.14.3 (2022-08-17) Fixs Fix model repr if a post not have message 0.14.2 (2022-07-22) Features Support reels for Instagram Business Account. Support product tagging apis for Instagram Business Account. 0.14.1 (2022-06-28) Features Support more url config in init api. Remove version check to make version for support pre version. 0.14.0 (2022-06-01) Features Add version v14.0 support. Add some examples for library. Deprecations Remove version v6.0 support. 0.13.1 (2022-03-15) Fix Fix version for v13.0 in check, thanks for @pietzschke and @pobk . 0.13.0 (2022-02-15) Features Add version v13.0 support. Update actions for project Deprecations Remove version v5.0 support. 0.12.4 (2021-12-03) Remove v4.0 support. Update docs for usage. Add new changes for instagram business. 0.12.3 (2021-10-28) Fix the rate limit not working. 0.12.2 (2021-10-28) Update for exception. 0.12.1 (2021-10-27) Add api to discover instagram user media to GraphAPI . Add parameters for discover instagram user media 0.12.0 (2021-10-21) Add api for business object. Add api for search pages. Support new graph version v12.0 . Update for new from field for ig business comment. Add tests for Python 3.10 . 0.11.2 (2021-09-02) GraphAPI for post and delete object. Add application apis. Remove Api version v3.3 0.11.1 (2021-08-23) New structure for Facebook Graph API New structure for Instagram Graph API New structure for Instagram Basic Display API 0.10.0 (2021-07-07) Features New structure for Graph API. Broken Change Remove python2 support. Refactor all methods. 0.9.5 (2021-09-02) Features Add follower field for page Remove Api version v3.3 0.9.3 (2021-04-28) Features Update API version to V11.0 Add parameters since and until for instaram media api. Broken Change Replace IgProApi get_user_medias method parameter since_time and until_time With since and until . 0.9.2 (2021-04-28) Features error update 0.9.1 (2021-04-27) Features Add new fields for IG,FB New docs Fix version bug #107 0.9.0 (2021-03-16) Features Upgrade api to v10.0 Instagram business publish content 0.8.1 (2021-02-08) Features Upgrade api to v9.0 Fix Bugs for #91 #93 0.8.0 (2021-01-17) Features Add new api for live videos Fix Bug for lost children fields for check params. thanks for @stevenviola 0.7.2 (2020-11-11) Features Add new api for story, tags for IG. Modify Facebook OAuth flow method. Add support for Python 3.9. 0.7.0 (2020-09-13) Features Add new api for video,album and photos for facebook. Update to support for to Graph API V8.0 0.6.1 (2020-04-02) Features Introduce simple sleep in requests to avoid reach the limit quickly. 0.6.0 (2020-03-12) Features Introduce new methods for Instagram Basic Display Api . 0.5.5 (2020-02-24) Features Introduce instagram business account mentions api. Add facebook post subattachments field. 0.5.4 (2020-02-14) Features Introduce instagram business account insights api. Introduce instagram business account hashtag api. Simple usage at GET DATA . 0.5.3 (2020-01-05) Broken Change Now we refactor all api for this library. You can see the README to see the changes. 0.5.2 (2019-11-13) Features facebook: add global_brand_page_name fields in page ( 34700f2 ) facebook: add page default picture return. ( 6c8f9ff ) 0.5.1 (2019-10-23) Features instagram: instagram owner data api. ( ad9fb89 ) Instagram API has refactored. ( 26b75ac )","title":"Changelog"},{"location":"CHANGELOG/#changelog","text":"All notable changes to this project will be documented in this file.","title":"Changelog"},{"location":"CHANGELOG/#0150-2022-09-26","text":"","title":"0.15.0 (2022-09-26)"},{"location":"CHANGELOG/#feat","text":"Add v15.0 support.","title":"Feat"},{"location":"CHANGELOG/#deprecations","text":"Remove version v7.0 support.","title":"Deprecations"},{"location":"CHANGELOG/#0145-2022-09-02","text":"","title":"0.14.5 (2022-09-02)"},{"location":"CHANGELOG/#feat_1","text":"Add simple support for facebook server sent events api. Make scopes work well in auth flow.","title":"Feat"},{"location":"CHANGELOG/#0143-2022-08-17","text":"","title":"0.14.3 (2022-08-17)"},{"location":"CHANGELOG/#fixs","text":"Fix model repr if a post not have message","title":"Fixs"},{"location":"CHANGELOG/#0142-2022-07-22","text":"","title":"0.14.2 (2022-07-22)"},{"location":"CHANGELOG/#features","text":"Support reels for Instagram Business Account. Support product tagging apis for Instagram Business Account.","title":"Features"},{"location":"CHANGELOG/#0141-2022-06-28","text":"","title":"0.14.1 (2022-06-28)"},{"location":"CHANGELOG/#features_1","text":"Support more url config in init api. Remove version check to make version for support pre version.","title":"Features"},{"location":"CHANGELOG/#0140-2022-06-01","text":"","title":"0.14.0 (2022-06-01)"},{"location":"CHANGELOG/#features_2","text":"Add version v14.0 support. Add some examples for library.","title":"Features"},{"location":"CHANGELOG/#deprecations_1","text":"Remove version v6.0 support.","title":"Deprecations"},{"location":"CHANGELOG/#0131-2022-03-15","text":"","title":"0.13.1 (2022-03-15)"},{"location":"CHANGELOG/#fix","text":"Fix version for v13.0 in check, thanks for @pietzschke and @pobk .","title":"Fix"},{"location":"CHANGELOG/#0130-2022-02-15","text":"","title":"0.13.0 (2022-02-15)"},{"location":"CHANGELOG/#features_3","text":"Add version v13.0 support. Update actions for project","title":"Features"},{"location":"CHANGELOG/#deprecations_2","text":"Remove version v5.0 support.","title":"Deprecations"},{"location":"CHANGELOG/#0124-2021-12-03","text":"Remove v4.0 support. Update docs for usage. Add new changes for instagram business.","title":"0.12.4 (2021-12-03)"},{"location":"CHANGELOG/#0123-2021-10-28","text":"Fix the rate limit not working.","title":"0.12.3 (2021-10-28)"},{"location":"CHANGELOG/#0122-2021-10-28","text":"Update for exception.","title":"0.12.2 (2021-10-28)"},{"location":"CHANGELOG/#0121-2021-10-27","text":"Add api to discover instagram user media to GraphAPI . Add parameters for discover instagram user media","title":"0.12.1 (2021-10-27)"},{"location":"CHANGELOG/#0120-2021-10-21","text":"Add api for business object. Add api for search pages. Support new graph version v12.0 . Update for new from field for ig business comment. Add tests for Python 3.10 .","title":"0.12.0 (2021-10-21)"},{"location":"CHANGELOG/#0112-2021-09-02","text":"GraphAPI for post and delete object. Add application apis. Remove Api version v3.3","title":"0.11.2 (2021-09-02)"},{"location":"CHANGELOG/#0111-2021-08-23","text":"New structure for Facebook Graph API New structure for Instagram Graph API New structure for Instagram Basic Display API","title":"0.11.1 (2021-08-23)"},{"location":"CHANGELOG/#0100-2021-07-07","text":"","title":"0.10.0 (2021-07-07)"},{"location":"CHANGELOG/#features_4","text":"New structure for Graph API.","title":"Features"},{"location":"CHANGELOG/#broken-change","text":"Remove python2 support. Refactor all methods.","title":"Broken Change"},{"location":"CHANGELOG/#095-2021-09-02","text":"","title":"0.9.5 (2021-09-02)"},{"location":"CHANGELOG/#features_5","text":"Add follower field for page Remove Api version v3.3","title":"Features"},{"location":"CHANGELOG/#093-2021-04-28","text":"","title":"0.9.3 (2021-04-28)"},{"location":"CHANGELOG/#features_6","text":"Update API version to V11.0 Add parameters since and until for instaram media api.","title":"Features"},{"location":"CHANGELOG/#broken-change_1","text":"Replace IgProApi get_user_medias method parameter since_time and until_time With since and until .","title":"Broken Change"},{"location":"CHANGELOG/#092-2021-04-28","text":"","title":"0.9.2 (2021-04-28)"},{"location":"CHANGELOG/#features_7","text":"error update","title":"Features"},{"location":"CHANGELOG/#091-2021-04-27","text":"","title":"0.9.1 (2021-04-27)"},{"location":"CHANGELOG/#features_8","text":"Add new fields for IG,FB New docs","title":"Features"},{"location":"CHANGELOG/#fix_1","text":"version bug #107","title":"Fix"},{"location":"CHANGELOG/#090-2021-03-16","text":"","title":"0.9.0 (2021-03-16)"},{"location":"CHANGELOG/#features_9","text":"Upgrade api to v10.0 Instagram business publish content","title":"Features"},{"location":"CHANGELOG/#081-2021-02-08","text":"","title":"0.8.1 (2021-02-08)"},{"location":"CHANGELOG/#features_10","text":"Upgrade api to v9.0","title":"Features"},{"location":"CHANGELOG/#fix_2","text":"Bugs for #91 #93","title":"Fix"},{"location":"CHANGELOG/#080-2021-01-17","text":"","title":"0.8.0 (2021-01-17)"},{"location":"CHANGELOG/#features_11","text":"Add new api for live videos","title":"Features"},{"location":"CHANGELOG/#fix_3","text":"Bug for lost children fields for check params. thanks for @stevenviola","title":"Fix"},{"location":"CHANGELOG/#072-2020-11-11","text":"","title":"0.7.2 (2020-11-11)"},{"location":"CHANGELOG/#features_12","text":"Add new api for story, tags for IG. Modify Facebook OAuth flow method. Add support for Python 3.9.","title":"Features"},{"location":"CHANGELOG/#070-2020-09-13","text":"","title":"0.7.0 (2020-09-13)"},{"location":"CHANGELOG/#features_13","text":"Add new api for video,album and photos for facebook. Update to support for to Graph API V8.0","title":"Features"},{"location":"CHANGELOG/#061-2020-04-02","text":"","title":"0.6.1 (2020-04-02)"},{"location":"CHANGELOG/#features_14","text":"Introduce simple sleep in requests to avoid reach the limit quickly.","title":"Features"},{"location":"CHANGELOG/#060-2020-03-12","text":"","title":"0.6.0 (2020-03-12)"},{"location":"CHANGELOG/#features_15","text":"Introduce new methods for Instagram Basic Display Api .","title":"Features"},{"location":"CHANGELOG/#055-2020-02-24","text":"","title":"0.5.5 (2020-02-24)"},{"location":"CHANGELOG/#features_16","text":"Introduce instagram business account mentions api. Add facebook post subattachments field.","title":"Features"},{"location":"CHANGELOG/#054-2020-02-14","text":"","title":"0.5.4 (2020-02-14)"},{"location":"CHANGELOG/#features_17","text":"Introduce instagram business account insights api. Introduce instagram business account hashtag api. Simple usage at GET DATA .","title":"Features"},{"location":"CHANGELOG/#053-2020-01-05","text":"","title":"0.5.3 (2020-01-05)"},{"location":"CHANGELOG/#broken-change_2","text":"Now we refactor all api for this library. You can see the README to see the changes.","title":"Broken Change"},{"location":"CHANGELOG/#052-2019-11-13","text":"","title":"0.5.2 (2019-11-13)"},{"location":"CHANGELOG/#features_18","text":"facebook: add global_brand_page_name fields in page ( 34700f2 ) facebook: add page default picture return. ( 6c8f9ff )","title":"Features"},{"location":"CHANGELOG/#051-2019-10-23","text":"","title":"0.5.1 (2019-10-23)"},{"location":"CHANGELOG/#features_19","text":"instagram: instagram owner data api. ( ad9fb89 ) Instagram API has refactored. ( 26b75ac )","title":"Features"},{"location":"installation/","text":"This library supports Python 3.6 and newer. Dependencies These distributions will be installed automatically when installing Python-Facebook-Api. requests : An elegant and simple HTTP library for Python, built for human beings. Requests-OAuthlib : A library uses the Python Requests and OAuthlib libraries to provide an easy-to-use Python interface for building OAuth1 and OAuth2 clients. Installation You can install this library from PyPI . ~ pip install --upgrade python-facebook-api Also, you can build this library from source code. git clone https://github.com/sns-sdks/python-facebook.git cd python-facebook make env make build Testing If you have installed the requirements use make env . You can use following command to test the code. make test","title":"Installation"},{"location":"installation/#dependencies","text":"These distributions will be installed automatically when installing Python-Facebook-Api. requests : An elegant and simple HTTP library for Python, built for human beings. Requests-OAuthlib : A library uses the Python Requests and OAuthlib libraries to provide an easy-to-use Python interface for building OAuth1 and OAuth2 clients.","title":"Dependencies"},{"location":"installation/#installation","text":"You can install this library from PyPI . ~ pip install --upgrade python-facebook-api Also, you can build this library from source code. git clone https://github.com/sns-sdks/python-facebook.git cd python-facebook make env make build","title":"Installation"},{"location":"installation/#testing","text":"If you have installed the requirements use make env . You can use following command to test the code. make test","title":"Testing"},{"location":"previous-version/readme/","text":"This is the docs for the previous version series 0.9.x .","title":"README"},{"location":"previous-version/usage_en/","text":"Python Facebook A Python wrapper for the Facebook Common API. THANKS Inspired by Python-Twitter . Introduction Library provides a service to easily use Facebook Graph API. It currently includes the use of Facebook , Instagram Business , and Instagram Basic Display product data. Installing You can install this library from pypi $ pip install --upgrade python-facebook-api # \u2728\ud83c\udf70\u2728 Documentation You can view the latest python-facebook documentation at: https://sns-sdks.github.io/python-facebook/ Also view the full Facebook Graph API docs at: https://developers.facebook.com/docs/graph-api/ And full Instagram Graph API docs at: https://developers.facebook.com/docs/instagram-api/ And full Instagram Basic Display API docs at: https://developers.facebook.com/docs/instagram-basic-display-api/ Facebook Graph API The API is exposed via the `pyfacebook.Api`` class. To get data, you need to have a facebook app first. You can get more information about create, apply permissions for app at App docs . Also, you can get some examples for this library at Example folder . Initial Api Facebook has different types of access tokens. You can use different access tokens to get different data. User Access Token App Access Token Page Access Token Client Token (library not support) You can see the docs Access-Token to get more information. If you want to get user access token by authorize. You can follow the docs Authorization-Manually to initial the api. If you just want to use app access token to get some public data. You can initial an api as follows. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , application_only_auth = True ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=None) If you have a short-lived token you can initial an api as follows. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') If you have a long term token you can initial an api as follows (Just provide only long_term_token parameter enough. but for security need provide with app credentials). api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') # this need token have additional manage_pages permission. api = Api ( long_term_token = \"long-term token\" ) the difference between initialize with parameter short_token or long_term_token is that short token will auto exchange a long term token inside. Facebook rate limit is very vague, it is related to the number of users of your app. So the library provides the custom sleep times in requests. You can only set parameter sleep_on_rate_limit with True to let api sleep two seconds between two requests. Or you can set parameter sleep_seconds_mapping with a dict that contains your custom data. ex: mapping = { 10 : 2 , 20 : 5 , 50 : 20 , 70 : 30 } # key is api limit reached percent and value is seconds to sleep. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" , sleep_on_rate_limit = True , sleep_seconds_mapping = mapping ) Get Data You can get a facebook page information by the following methods. To fetch one facebook page's public data: api . get_page_info ( username = 'facebookapp' ) # Page(id='20531316728', name='Facebook', username='facebookapp') To fetch multi pages by one request, you can pass the page username list or page id list with the ids parameter as follows. api . get_pages_info ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': Page(id='20531316728', name='Facebook', username='facebookapp'), 'nba': Page(id='8245623462', name='NBA', username='nba')} There are multiple methods to retrieve one page's posts data. api . get_page_feeds () api . get_page_posts () api . get_page_published_posts () api . get_page_tagged_posts () Page feeds can get feed of posts (including status updates) and links published by this page, or by others on this page. You can call with the following: api . get_page_feeds ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] Page posts can only get the posts that were published by this page: api . get_page_posts ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] Because of facebook graph api limit Page Feed . Using public token can only get approximately 600 ranked, published posts per year. So if you want to get all of a page's posts or posts which tagged the page. you need use method get_page_published_posts , and this needs a page's access token with permission manage_pages . You can use authorization to get that page access token. Just follows docs Authorization-Manually . Then you can get all published posts: api . get_published_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] You can get tagged posts: api . get_tagged_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] If you also have the post id, you can get post detail info by the following methods. To fetch a post info: api . get_post_info ( post_id = \"20531316728_587455038708591\" ) # Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/') To fetch multi posts by one requests: api . get_posts_info ( ids = [ \"20531316728_587455038708591\" , \"20531316728_10159023836696729\" ]) # {'20531316728_587455038708591': Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # '20531316728_10159023836696729': Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')} You can get comments data by the object(post, page and so on) id: api . get_comments_by_object ( object_id = \"20531316728_587455038708591\" , count = 2 ) # ([Comment(id='587455038708591_587460942041334', can_like=True, can_comment=True, comment_count=2, like_count=1), # Comment(id='587455038708591_587464298707665', can_like=True, can_comment=True, comment_count=2, like_count=14)], # CommentSummary(total_count=392, can_comment=True)) If you already have the comment id, you can get comment details info with the following methods. To fetch one comment info: api . get_comment_info ( comment_id = \"587455038708591_587460942041334\" ) # Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1) To fetch multi comment info by one request: api . get_comments_info ( ids = [ \"587455038708591_587460942041334\" , \"587455038708591_587464298707665\" ]) # {'587455038708591_587460942041334': Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1), # '587455038708591_587464298707665': Comment(id='587455038708591_587464298707665', comment_count=2, like_count=14)} You can get the page's profile picture by the following methods. To fetch a page picture: api . get_picture ( page_id = \"20531316728\" ) # ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100) To fetch multi pages picture: api . get_pictures ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100), # 'nba': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/81204460_10158199356848463_5727214464013434880_n.jpg?_nc_cat=1&_nc_oc=AQmcent57E-a-923C_VVpiX26nGqKDodImY1gsiu7h1czDmcpLHXR8D5hIh9g9Ao3wY&_nc_ht=scontent.xx&oh=1656771e6c11bd03147b69ee643238ba&oe=5E66450C', height=100, width=100)} You can get videos data by the object(page, user...) id: api . get_videos_by_object ( \"ikaroskunlife\" , fields = [ \"id\" , \"title\" , \"description\" ], count = None , limit = 20 ) # [Video(id='969222676905304', created_time=None, description='\u51ac\u65e5'), # Video(id='210174653594254', created_time=None, description='Snowing'), # Video(id='674270653053120', created_time=None, description='Visible')] If you already have the id of videos, you can get more info by the following methods: api . get_video_info ( \"969222676905304\" ) # Video(id='969222676905304', created_time='2020-09-12T09:53:06+0000', description='\u51ac\u65e5') api . get_videos ( ids = [ \"210174653594254\" , \"674270653053120\" ]) # {'210174653594254': Video(id='210174653594254', created_time='2020-03-31T08:13:14+0000', description='Snowing'), # '674270653053120': Video(id='674270653053120', created_time='2019-09-02T06:13:17+0000', description='Visible')} You can get albums data by the object(page, user...) id: api . get_albums_by_object ( \"instagram\" , count = 20 , limit = 15 ) # [Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')...] If you already have the id of album, you can get more info by the following methods: api . get_album_info ( \"372558296163354\" ) # Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247') api . get_albums ( ids = \"372558296163354,623202484432266\" ) # {'372558296163354': Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # '623202484432266': Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')} You can get photos data by the object(page, album, user...) id: api . get_photos_by_object ( \"372558296163354\" , count = 10 , limit = 5 ) # [Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/'), # Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)...] If you already have the id of photos, you can get more info by the following methods: api . get_photo_info ( \"3293405020745319\" ) # Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/') api . get_photos ( ids = [ \"3279789248773563\" , \"3276650595754095\" ]) # {'3279789248773563': Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # '3276650595754095': Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)} You can get live videos' data by the object(page, user...) id: api . get_live_videos_by_object ( object_id = \"2121008874780932\" , limit = 10 , count = 2 ) # [LiveVideo(id='2814245952123884', permalink_url='/IkaroskunLife/videos/710393869909608/'), # LiveVideo(id='2809188389296307', permalink_url='/IkaroskunLife/videos/706216360286730/')] If you already have the id of live videos, you can get more info by the following methods: api . get_live_video_info ( live_video_id = \"2814245952123884\" ) # LiveVideo(id='2814245952123884', permalink_url='/IkaroskunLife/videos/710393869909608/') Same as get live video input stream data. Instagram Graph API Instagram Graph API allows you to get instagram Professional accounts data. Initial Api As similar to facebook graph api. This api can be initialized by multiple methods. But can only use user access token, and needs your instagram business id. If you want to get user access token by authorize. You can follow the docs Authorization-Manually to initialize the api. If you have a short-lived token you can initialize an api as follows: api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" , instagram_business_id = \"17841406338772941\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=\"token user id\") If you have a long term token you can initialize an api as follows (Just providing only long_term_token parameter is enough, but for security you need to provide app credentials): api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') Get Data If you want to search other's business account basic info and medias. You can use methods as follows: discovery_user: retrieve user basic data discovery_user_medias: retrieve user medias data Note Use discovery only support search by instagram username. Retrieve other user info by username: api . discovery_user ( username = \"facebook\" ) # IgProUser(id='17841400455970028', name='Facebook', username='facebook') Retrieve other user medias by username: api . discovery_user_medias ( username = \"facebook\" , count = 2 ) # [IgProMedia(comments=None, id='17859633232647524', permalink='https://www.instagram.com/p/B6jje2UnoH8/'), # IgProMedia(comments=None, id='18076151185161297', permalink='https://www.instagram.com/p/B6ji-PZH2V1/')] Get your account info: api . get_user_info ( user_id = \"your instagram business id\" ) # IgProUser(id='17841406338772941', name='LiuKun', username='ikroskun') Get your medias: api . get_user_medias ( user_id = api . instagram_business_id , count = 2 ) # [IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')] If you already have some medias id, you can get media info by the following methods. To fetch a post info: api . get_media_info ( media_id = \"18075344632131157\" ) # IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/') To fetch multi medias by one requests: api . get_medias_info ( media_ids = [ \"18075344632131157\" , \"18027939643230671\" ]) # {'18075344632131157': IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # '18027939643230671': IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')} Get comments for media: api . get_comments_by_media ( media_id = \"17955956875141196\" , count = 2 ) # [IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')] If you already have some comments' id, you can get comment details info by the following methods. To fetch a comment info: api . get_comment_info ( comment_id = \"17862949873623188\" ) # IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000') To fetch multi comments by one requests: api . get_comments_info ( comment_ids = [ \"17862949873623188\" , \"17844360649889631\" ]) # {'17862949873623188': IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # '17844360649889631': IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')} Get replies for a comments: api . get_replies_by_comment ( \"17984127178281340\" , count = 2 ) # [IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')] If you already have some replies' id, you can get replies details info by the following methods. To fetch a reply info: api . get_reply_info ( reply_id = \"18107567341036926\" ) # IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000') To fetch multi replies info by one requests: api . get_replies_info ( reply_ids = [ \"18107567341036926\" , \"17846106427692294\" ]) # {'18107567341036926': IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # '17846106427692294': IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')} Use get_user_insights method, you can get account insights data. If you want to get your account insights, just provide user_id with your id. If you have other account's access token, you can provide with user_id and access_token : api . get_user_insights ( user_id = api . instagram_business_id , period = \"day\" , metrics = [ \"impressions\" , \"reach\" ]) # [IgProInsight(name='impressions', period='day'), IgProInsight(name='reach', period='day')] The same as get_user_insights , you can custom provide media_id and access_token . Get your media insights data: api . get_media_insights ( media_id = \"media_id\" , metrics = [ \"engagement\" , \"impressions\" ]) # [IgProInsight(name='engagement', period='lifetime'), IgProInsight(name='impressions', period='lifetime')] Get hashtag id: api . search_hashtag ( q = \"love\" ) # [IgProHashtag(id='17843826142012701', name=None)] Get hashtag info: api . get_hashtag_info ( hashtag_id = \"17843826142012701\" ) # IgProHashtag(id='17843826142012701', name='love') Get hashtag's top medias: api . get_hashtag_top_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18086291068155608', permalink='https://www.instagram.com/p/B8ielBPpHaw/'), # IgProMedia(comments=None, id='17935250359346228', permalink='https://www.instagram.com/p/B8icUmwoF0Y/'), # IgProMedia(comments=None, id='17847031435934181', permalink='https://www.instagram.com/p/B8icycxKEn-/'), # IgProMedia(comments=None, id='18000940699302502', permalink='https://www.instagram.com/p/B8ieNN7Cv6S/'), # IgProMedia(comments=None, id='18025516372248793', permalink='https://www.instagram.com/p/B8iduQJgSyO/')] Get hashtag's recent medias: api . get_hashtag_recent_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18128248021002097', permalink='https://www.instagram.com/p/B8ifnoWA5Ru/'), # IgProMedia(comments=None, id='18104579776105272', permalink='https://www.instagram.com/p/B8ifwfsgBw2/'), # IgProMedia(comments=None, id='17898846532442427', permalink='https://www.instagram.com/p/B8ifwZ4ltqP/'), # IgProMedia(comments=None, id='17891698510462453', permalink='https://www.instagram.com/p/B8ifwepgf_E/'), # IgProMedia(comments=None, id='17883544606492965', permalink='https://www.instagram.com/p/B8ifwabgiPf/')] If you have other account's access token, you can provide it with user_id and access_token to get its search hashtags. Or just get your account recent searched hashtags: api . get_user_recently_searched_hashtags ( user_id = \"17841406338772941\" ) # [IgProHashtag(id='17843826142012701', name='love'), IgProHashtag(id='17841562447105233', name='loveyou')] Get the media objects in which a Business or Creator Account has been tagged. If you have another account authorized access token, you can provide it with user_id and access_token to get its data. Or only get your account's data: medias = api . get_tagged_user_medias ( user_id = api . instagram_business_id , count = 2 , limit = 5 ) # [IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/'), # IgProMedia(id='17846368219941692', permalink='https://www.instagram.com/p/B8gQCApHMT-/')] Get data about a comment that a Business or Creator Account has been @mentioned in comment text: api . get_mentioned_comment_info ( user_id = api . instagram_business_id , comment_id = \"17892250648466172\" ) # IgProComment(id='17892250648466172', timestamp='2020-02-24T09:15:16+0000') Get data about a media object on which a Business or Creator Account has been @mentioned in a caption:: api . get_mentioned_media_info ( user_id = api . instagram_business_id , media_id = \"18027939643230671\" ) # IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/') Now you can publish instagram content if your app have published permission. for publish, you need create a container first, the make the container publish. # create photo api . create_photo ( image_url = \"https://www.example.com/images/gugges.jpg\" , caption = \"publish test\" , location_id = \"7640348500\" , user_tags = '[{\"username\": \"somebody\", \"x\": 0.5, \"y\": 0.8}]' ) # IgProContainer(id='17877174857201040', status_code=None) # create video api . create_video ( video_url = \"https://www.example.com/videos/hungry-fonzes.mov\" , caption = \"video test\" , location_id = \"\" , thumb_offset = 5 , ) # IgProContainer(id='17877174857201041', status_code=None) Then you can get container status, if container is ready, You can make it published. api . get_container_info ( container_id = \"17877174857201040\" ) # IgProContainer(id='17877174857201040', status_code='FINISHED') Then you can publish it. api . publish_container ( creation_id = \"17877174857201040\" ) # {'id': '17892354025952911'} If success, will return the media id. For now, Instagram accounts are limited to 25 API-published posts within a 24 hours moving period. So you can get current limit info. api . get_publish_limit () # IgProPublishLimit(quota_usage=4) Instagram Basic API Instagram Basic Display API can be used to access any type of Instagram account but only provides read-access to basic data. You need to authorize first, and get access token which has permission to retrieve data. All docs on Basic Display API . Initial Api Now provide three methods to init api. If you have long-lived access token, can just initial by token: from pyfacebook import IgBasicApi api = IgBasicApi ( long_term_token = \"token\" ) If you have short-lived access token, can provide with app credentials: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , short_token = \"token\" ) If you want to authorized by user on hand. You can use authorize flow: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , initial_access_token = False ) api . get_authorization_url () # ('https://api.instagram.com/oauth/authorize?response_type=code&client_id=app+id&redirect_uri=https%3A%2F%2Flocalhost%2F&scope=user_profile+user_media&state=PyFacebook', 'PyFacebook') # give permission and copy the redirect full url. api . exchange_access_token ( response = \"the full url\" ) Get Data You can get user basic info: api . get_user_info () # IgBasicUser(id='17841406338772941', username='ikroskun') You can get user medias: api . get_user_medias () # [IgBasicMedia(id='17846368219941692', media_type='IMAGE', permalink='https://www.instagram.com/p/B8gQCApHMT-/'), # IgBasicMedia(id='17970645226046242', media_type='IMAGE', permalink='https://www.instagram.com/p/Bme0cU1giOH/')] You can get just one media info: api . get_media_info ( media_id = \"18027939643230671\" ) # IgBasicMedia(id='18027939643230671', media_type='CAROUSEL_ALBUM', permalink='https://www.instagram.com/p/B38Xyp6nqsS/') SUPPORT python-facebook-api had been being developed with Pycharm under the free JetBrains Open Source license(s) granted by JetBrains s.r.o., hence I would like to express my thanks here. TODO Now features Facebook Api: Page Info. Page Picture Info. Feed Info (public posts, published posts, tagged posts). Comment Info. Video Info. Album Info. Photo Info. Live Video Info. Instagram Professional Api: Other business account info and media. Authorized business account info Authorized account medias Authorized account comments Authorized account replies Authorized account insights and media insights Search hashtag id Get hashtag info Get top medias with hashtag Get recent medias with hashtag Get Authorized account recent searched hashtags Get medias which tagged account Get comment info mentioned user. Get media info mentioned user. Publish Content Instagram Basic display api: Get user info Get user medias Get media info TODO publish","title":"usage-en"},{"location":"previous-version/usage_en/#thanks","text":"Inspired by Python-Twitter .","title":"THANKS"},{"location":"previous-version/usage_en/#introduction","text":"Library provides a service to easily use Facebook Graph API. It currently includes the use of Facebook , Instagram Business , and Instagram Basic Display product data.","title":"Introduction"},{"location":"previous-version/usage_en/#installing","text":"You can install this library from pypi $ pip install --upgrade python-facebook-api # \u2728\ud83c\udf70\u2728","title":"Installing"},{"location":"previous-version/usage_en/#documentation","text":"You can view the latest python-facebook documentation at: https://sns-sdks.github.io/python-facebook/ Also view the full Facebook Graph API docs at: https://developers.facebook.com/docs/graph-api/ And full Instagram Graph API docs at: https://developers.facebook.com/docs/instagram-api/ And full Instagram Basic Display API docs at: https://developers.facebook.com/docs/instagram-basic-display-api/","title":"Documentation"},{"location":"previous-version/usage_en/#facebook-graph-api","text":"The API is exposed via the `pyfacebook.Api`` class. To get data, you need to have a facebook app first. You can get more information about create, apply permissions for app at App docs . Also, you can get some examples for this library at Example folder .","title":"Facebook Graph API"},{"location":"previous-version/usage_en/#initial-api","text":"Facebook has different types of access tokens. You can use different access tokens to get different data. User Access Token App Access Token Page Access Token Client Token (library not support) You can see the docs Access-Token to get more information. If you want to get user access token by authorize. You can follow the docs Authorization-Manually to initial the api. If you just want to use app access token to get some public data. You can initial an api as follows. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , application_only_auth = True ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=None) If you have a short-lived token you can initial an api as follows. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') If you have a long term token you can initial an api as follows (Just provide only long_term_token parameter enough. but for security need provide with app credentials). api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') # this need token have additional manage_pages permission. api = Api ( long_term_token = \"long-term token\" ) the difference between initialize with parameter short_token or long_term_token is that short token will auto exchange a long term token inside. Facebook rate limit is very vague, it is related to the number of users of your app. So the library provides the custom sleep times in requests. You can only set parameter sleep_on_rate_limit with True to let api sleep two seconds between two requests. Or you can set parameter sleep_seconds_mapping with a dict that contains your custom data. ex: mapping = { 10 : 2 , 20 : 5 , 50 : 20 , 70 : 30 } # key is api limit reached percent and value is seconds to sleep. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" , sleep_on_rate_limit = True , sleep_seconds_mapping = mapping )","title":"Initial Api"},{"location":"previous-version/usage_en/#get-data","text":"You can get a facebook page information by the following methods. To fetch one facebook page's public data: api . get_page_info ( username = 'facebookapp' ) # Page(id='20531316728', name='Facebook', username='facebookapp') To fetch multi pages by one request, you can pass the page username list or page id list with the ids parameter as follows. api . get_pages_info ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': Page(id='20531316728', name='Facebook', username='facebookapp'), 'nba': Page(id='8245623462', name='NBA', username='nba')} There are multiple methods to retrieve one page's posts data. api . get_page_feeds () api . get_page_posts () api . get_page_published_posts () api . get_page_tagged_posts () Page feeds can get feed of posts (including status updates) and links published by this page, or by others on this page. You can call with the following: api . get_page_feeds ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] Page posts can only get the posts that were published by this page: api . get_page_posts ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] Because of facebook graph api limit Page Feed . Using public token can only get approximately 600 ranked, published posts per year. So if you want to get all of a page's posts or posts which tagged the page. you need use method get_page_published_posts , and this needs a page's access token with permission manage_pages . You can use authorization to get that page access token. Just follows docs Authorization-Manually . Then you can get all published posts: api . get_published_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] You can get tagged posts: api . get_tagged_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] If you also have the post id, you can get post detail info by the following methods. To fetch a post info: api . get_post_info ( post_id = \"20531316728_587455038708591\" ) # Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/') To fetch multi posts by one requests: api . get_posts_info ( ids = [ \"20531316728_587455038708591\" , \"20531316728_10159023836696729\" ]) # {'20531316728_587455038708591': Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # '20531316728_10159023836696729': Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')} You can get comments data by the object(post, page and so on) id: api . get_comments_by_object ( object_id = \"20531316728_587455038708591\" , count = 2 ) # ([Comment(id='587455038708591_587460942041334', can_like=True, can_comment=True, comment_count=2, like_count=1), # Comment(id='587455038708591_587464298707665', can_like=True, can_comment=True, comment_count=2, like_count=14)], # CommentSummary(total_count=392, can_comment=True)) If you already have the comment id, you can get comment details info with the following methods. To fetch one comment info: api . get_comment_info ( comment_id = \"587455038708591_587460942041334\" ) # Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1) To fetch multi comment info by one request: api . get_comments_info ( ids = [ \"587455038708591_587460942041334\" , \"587455038708591_587464298707665\" ]) # {'587455038708591_587460942041334': Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1), # '587455038708591_587464298707665': Comment(id='587455038708591_587464298707665', comment_count=2, like_count=14)} You can get the page's profile picture by the following methods. To fetch a page picture: api . get_picture ( page_id = \"20531316728\" ) # ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100) To fetch multi pages picture: api . get_pictures ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100), # 'nba': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/81204460_10158199356848463_5727214464013434880_n.jpg?_nc_cat=1&_nc_oc=AQmcent57E-a-923C_VVpiX26nGqKDodImY1gsiu7h1czDmcpLHXR8D5hIh9g9Ao3wY&_nc_ht=scontent.xx&oh=1656771e6c11bd03147b69ee643238ba&oe=5E66450C', height=100, width=100)} You can get videos data by the object(page, user...) id: api . get_videos_by_object ( \"ikaroskunlife\" , fields = [ \"id\" , \"title\" , \"description\" ], count = None , limit = 20 ) # [Video(id='969222676905304', created_time=None, description='\u51ac\u65e5'), # Video(id='210174653594254', created_time=None, description='Snowing'), # Video(id='674270653053120', created_time=None, description='Visible')] If you already have the id of videos, you can get more info by the following methods: api . get_video_info ( \"969222676905304\" ) # Video(id='969222676905304', created_time='2020-09-12T09:53:06+0000', description='\u51ac\u65e5') api . get_videos ( ids = [ \"210174653594254\" , \"674270653053120\" ]) # {'210174653594254': Video(id='210174653594254', created_time='2020-03-31T08:13:14+0000', description='Snowing'), # '674270653053120': Video(id='674270653053120', created_time='2019-09-02T06:13:17+0000', description='Visible')} You can get albums data by the object(page, user...) id: api . get_albums_by_object ( \"instagram\" , count = 20 , limit = 15 ) # [Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')...] If you already have the id of album, you can get more info by the following methods: api . get_album_info ( \"372558296163354\" ) # Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247') api . get_albums ( ids = \"372558296163354,623202484432266\" ) # {'372558296163354': Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # '623202484432266': Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')} You can get photos data by the object(page, album, user...) id: api . get_photos_by_object ( \"372558296163354\" , count = 10 , limit = 5 ) # [Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/'), # Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)...] If you already have the id of photos, you can get more info by the following methods: api . get_photo_info ( \"3293405020745319\" ) # Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/') api . get_photos ( ids = [ \"3279789248773563\" , \"3276650595754095\" ]) # {'3279789248773563': Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # '3276650595754095': Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)} You can get live videos' data by the object(page, user...) id: api . get_live_videos_by_object ( object_id = \"2121008874780932\" , limit = 10 , count = 2 ) # [LiveVideo(id='2814245952123884', permalink_url='/IkaroskunLife/videos/710393869909608/'), # LiveVideo(id='2809188389296307', permalink_url='/IkaroskunLife/videos/706216360286730/')] If you already have the id of live videos, you can get more info by the following methods: api . get_live_video_info ( live_video_id = \"2814245952123884\" ) # LiveVideo(id='2814245952123884', permalink_url='/IkaroskunLife/videos/710393869909608/') Same as get live video input stream data.","title":"Get Data"},{"location":"previous-version/usage_en/#instagram-graph-api","text":"Instagram Graph API allows you to get instagram Professional accounts data.","title":"Instagram Graph API"},{"location":"previous-version/usage_en/#initial-api_1","text":"As similar to facebook graph api. This api can be initialized by multiple methods. But can only use user access token, and needs your instagram business id. If you want to get user access token by authorize. You can follow the docs Authorization-Manually to initialize the api. If you have a short-lived token you can initialize an api as follows: api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" , instagram_business_id = \"17841406338772941\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=\"token user id\") If you have a long term token you can initialize an api as follows (Just providing only long_term_token parameter is enough, but for security you need to provide app credentials): api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id')","title":"Initial Api"},{"location":"previous-version/usage_en/#get-data_1","text":"If you want to search other's business account basic info and medias. You can use methods as follows: discovery_user: retrieve user basic data discovery_user_medias: retrieve user medias data Note Use discovery only support search by instagram username. Retrieve other user info by username: api . discovery_user ( username = \"facebook\" ) # IgProUser(id='17841400455970028', name='Facebook', username='facebook') Retrieve other user medias by username: api . discovery_user_medias ( username = \"facebook\" , count = 2 ) # [IgProMedia(comments=None, id='17859633232647524', permalink='https://www.instagram.com/p/B6jje2UnoH8/'), # IgProMedia(comments=None, id='18076151185161297', permalink='https://www.instagram.com/p/B6ji-PZH2V1/')] Get your account info: api . get_user_info ( user_id = \"your instagram business id\" ) # IgProUser(id='17841406338772941', name='LiuKun', username='ikroskun') Get your medias: api . get_user_medias ( user_id = api . instagram_business_id , count = 2 ) # [IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')] If you already have some medias id, you can get media info by the following methods. To fetch a post info: api . get_media_info ( media_id = \"18075344632131157\" ) # IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/') To fetch multi medias by one requests: api . get_medias_info ( media_ids = [ \"18075344632131157\" , \"18027939643230671\" ]) # {'18075344632131157': IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # '18027939643230671': IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')} Get comments for media: api . get_comments_by_media ( media_id = \"17955956875141196\" , count = 2 ) # [IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')] If you already have some comments' id, you can get comment details info by the following methods. To fetch a comment info: api . get_comment_info ( comment_id = \"17862949873623188\" ) # IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000') To fetch multi comments by one requests: api . get_comments_info ( comment_ids = [ \"17862949873623188\" , \"17844360649889631\" ]) # {'17862949873623188': IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # '17844360649889631': IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')} Get replies for a comments: api . get_replies_by_comment ( \"17984127178281340\" , count = 2 ) # [IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')] If you already have some replies' id, you can get replies details info by the following methods. To fetch a reply info: api . get_reply_info ( reply_id = \"18107567341036926\" ) # IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000') To fetch multi replies info by one requests: api . get_replies_info ( reply_ids = [ \"18107567341036926\" , \"17846106427692294\" ]) # {'18107567341036926': IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # '17846106427692294': IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')} Use get_user_insights method, you can get account insights data. If you want to get your account insights, just provide user_id with your id. If you have other account's access token, you can provide with user_id and access_token : api . get_user_insights ( user_id = api . instagram_business_id , period = \"day\" , metrics = [ \"impressions\" , \"reach\" ]) # [IgProInsight(name='impressions', period='day'), IgProInsight(name='reach', period='day')] The same as get_user_insights , you can custom provide media_id and access_token . Get your media insights data: api . get_media_insights ( media_id = \"media_id\" , metrics = [ \"engagement\" , \"impressions\" ]) # [IgProInsight(name='engagement', period='lifetime'), IgProInsight(name='impressions', period='lifetime')] Get hashtag id: api . search_hashtag ( q = \"love\" ) # [IgProHashtag(id='17843826142012701', name=None)] Get hashtag info: api . get_hashtag_info ( hashtag_id = \"17843826142012701\" ) # IgProHashtag(id='17843826142012701', name='love') Get hashtag's top medias: api . get_hashtag_top_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18086291068155608', permalink='https://www.instagram.com/p/B8ielBPpHaw/'), # IgProMedia(comments=None, id='17935250359346228', permalink='https://www.instagram.com/p/B8icUmwoF0Y/'), # IgProMedia(comments=None, id='17847031435934181', permalink='https://www.instagram.com/p/B8icycxKEn-/'), # IgProMedia(comments=None, id='18000940699302502', permalink='https://www.instagram.com/p/B8ieNN7Cv6S/'), # IgProMedia(comments=None, id='18025516372248793', permalink='https://www.instagram.com/p/B8iduQJgSyO/')] Get hashtag's recent medias: api . get_hashtag_recent_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18128248021002097', permalink='https://www.instagram.com/p/B8ifnoWA5Ru/'), # IgProMedia(comments=None, id='18104579776105272', permalink='https://www.instagram.com/p/B8ifwfsgBw2/'), # IgProMedia(comments=None, id='17898846532442427', permalink='https://www.instagram.com/p/B8ifwZ4ltqP/'), # IgProMedia(comments=None, id='17891698510462453', permalink='https://www.instagram.com/p/B8ifwepgf_E/'), # IgProMedia(comments=None, id='17883544606492965', permalink='https://www.instagram.com/p/B8ifwabgiPf/')] If you have other account's access token, you can provide it with user_id and access_token to get its search hashtags. Or just get your account recent searched hashtags: api . get_user_recently_searched_hashtags ( user_id = \"17841406338772941\" ) # [IgProHashtag(id='17843826142012701', name='love'), IgProHashtag(id='17841562447105233', name='loveyou')] Get the media objects in which a Business or Creator Account has been tagged. If you have another account authorized access token, you can provide it with user_id and access_token to get its data. Or only get your account's data: medias = api . get_tagged_user_medias ( user_id = api . instagram_business_id , count = 2 , limit = 5 ) # [IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/'), # IgProMedia(id='17846368219941692', permalink='https://www.instagram.com/p/B8gQCApHMT-/')] Get data about a comment that a Business or Creator Account has been @mentioned in comment text: api . get_mentioned_comment_info ( user_id = api . instagram_business_id , comment_id = \"17892250648466172\" ) # IgProComment(id='17892250648466172', timestamp='2020-02-24T09:15:16+0000') Get data about a media object on which a Business or Creator Account has been @mentioned in a caption:: api . get_mentioned_media_info ( user_id = api . instagram_business_id , media_id = \"18027939643230671\" ) # IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/') Now you can publish instagram content if your app have published permission. for publish, you need create a container first, the make the container publish. # create photo api . create_photo ( image_url = \"https://www.example.com/images/gugges.jpg\" , caption = \"publish test\" , location_id = \"7640348500\" , user_tags = '[{\"username\": \"somebody\", \"x\": 0.5, \"y\": 0.8}]' ) # IgProContainer(id='17877174857201040', status_code=None) # create video api . create_video ( video_url = \"https://www.example.com/videos/hungry-fonzes.mov\" , caption = \"video test\" , location_id = \"\" , thumb_offset = 5 , ) # IgProContainer(id='17877174857201041', status_code=None) Then you can get container status, if container is ready, You can make it published. api . get_container_info ( container_id = \"17877174857201040\" ) # IgProContainer(id='17877174857201040', status_code='FINISHED') Then you can publish it. api . publish_container ( creation_id = \"17877174857201040\" ) # {'id': '17892354025952911'} If success, will return the media id. For now, Instagram accounts are limited to 25 API-published posts within a 24 hours moving period. So you can get current limit info. api . get_publish_limit () # IgProPublishLimit(quota_usage=4)","title":"Get Data"},{"location":"previous-version/usage_en/#instagram-basic-api","text":"Instagram Basic Display API can be used to access any type of Instagram account but only provides read-access to basic data. You need to authorize first, and get access token which has permission to retrieve data. All docs on Basic Display API .","title":"Instagram Basic API"},{"location":"previous-version/usage_en/#initial-api_2","text":"Now provide three methods to init api. If you have long-lived access token, can just initial by token: from pyfacebook import IgBasicApi api = IgBasicApi ( long_term_token = \"token\" ) If you have short-lived access token, can provide with app credentials: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , short_token = \"token\" ) If you want to authorized by user on hand. You can use authorize flow: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , initial_access_token = False ) api . get_authorization_url () # ('https://api.instagram.com/oauth/authorize?response_type=code&client_id=app+id&redirect_uri=https%3A%2F%2Flocalhost%2F&scope=user_profile+user_media&state=PyFacebook', 'PyFacebook') # give permission and copy the redirect full url. api . exchange_access_token ( response = \"the full url\" )","title":"Initial Api"},{"location":"previous-version/usage_en/#get-data_2","text":"You can get user basic info: api . get_user_info () # IgBasicUser(id='17841406338772941', username='ikroskun') You can get user medias: api . get_user_medias () # [IgBasicMedia(id='17846368219941692', media_type='IMAGE', permalink='https://www.instagram.com/p/B8gQCApHMT-/'), # IgBasicMedia(id='17970645226046242', media_type='IMAGE', permalink='https://www.instagram.com/p/Bme0cU1giOH/')] You can get just one media info: api . get_media_info ( media_id = \"18027939643230671\" ) # IgBasicMedia(id='18027939643230671', media_type='CAROUSEL_ALBUM', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')","title":"Get Data"},{"location":"previous-version/usage_en/#support","text":"python-facebook-api had been being developed with Pycharm under the free JetBrains Open Source license(s) granted by JetBrains s.r.o., hence I would like to express my thanks here.","title":"SUPPORT"},{"location":"previous-version/usage_en/#todo","text":"","title":"TODO"},{"location":"previous-version/usage_en/#now-features","text":"Facebook Api: Page Info. Page Picture Info. Feed Info (public posts, published posts, tagged posts). Comment Info. Video Info. Album Info. Photo Info. Live Video Info. Instagram Professional Api: Other business account info and media. Authorized business account info Authorized account medias Authorized account comments Authorized account replies Authorized account insights and media insights Search hashtag id Get hashtag info Get top medias with hashtag Get recent medias with hashtag Get Authorized account recent searched hashtags Get medias which tagged account Get comment info mentioned user. Get media info mentioned user. Publish Content Instagram Basic display api: Get user info Get user medias Get media info","title":"Now features"},{"location":"previous-version/usage_en/#todo_1","text":"publish","title":"TODO"},{"location":"previous-version/usage_zh/","text":"Python Facebook \u4f7f\u7528 `Python` \u5c01\u88c5\u7684 `Facebook` \u5e73\u53f0\u4e0b\u7684\u4e00\u4e9b\u6570\u636e\u63a5\u53e3. \u81f4\u8c22 \u7075\u611f\u6765\u81ea Python-Twitter . \u8bf4\u660e \u8be5\u5e93\u63d0\u4f9b\u4e00\u79cd\u66f4\u52a0\u7b80\u5355\u7684\u65b9\u5f0f\u53bb\u4f7f\u7528 Facebook \u5e73\u53f0\u7684\u6570\u636e\u63a5\u53e3\u3002 \u6ce8\u610f\uff0c\u5f53\u4f60\u4f7f\u7528\u65f6\uff0c\u7531\u4e8e\u4e00\u4e9b\u539f\u56e0\uff0c\u9700\u8981\u5728\u5916\u7f51\u73af\u5883\u4e0b\u624d\u53ef\u4ee5\u4f7f\u7528\u3002 \u76ee\u524d\u5305\u62ec\u4e86 Facebook , Instagram Business , Instagram Basic Display \u4ea7\u54c1\u6570\u636e\u7684\u4f7f\u7528\u3002 \u5b89\u88c5 \u73b0\u5728\u53ef\u4ee5\u4f7f\u7528 pip \u6765\u5b89\u88c5\u8fd9\u4e2a\u5305\u5566: $ pip install --upgrade python-facebook-api # \u2728\ud83c\udf70\u2728 \u6587\u6863 \u4f60\u53ef\u4ee5\u8bbf\u95ee: https://sns-sdks.github.io/python-facebook/ \u53bb\u67e5\u770b\u76f8\u5173\u6587\u6863 (Doing). \u6d89\u53ca\u7684 Facebook Graph API \u4f60\u90fd\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee: https://developers.facebook.com/docs/graph-api/ \u53bb\u67e5\u770b \u6d89\u53ca\u7684 Instagram Graph API \u4f60\u90fd\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee: https://developers.facebook.com/docs/instagram-api/ \u53bb\u67e5\u770b \u6d89\u53ca\u7684 Instagram Basic Display API \u4f60\u90fd\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee: https://developers.facebook.com/docs/instagram-basic-display-api/ \u53bb\u67e5\u770b Facebook Graph API API \u901a\u8fc7 pyfacebook.Api \u7c7b\u516c\u5f00\u8bbf\u95ee\u3002 \u4e3a\u4e86\u83b7\u53d6\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u4f60\u9996\u5148\u9700\u8981\u4e00\u4e2a Facebook App\u3002 \u4f60\u53ef\u4ee5\u8bbf\u95ee App docs \u53bb\u83b7\u53d6\u66f4\u591a\u5173\u4e8e\u5982\u4f55\u521b\u5efa App \u548c \u5982\u4f55\u4e3a App \u7533\u8bf7\u76f8\u5173\u7684\u6743\u9650\u7684\u4fe1\u606f\u3002 \u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u5728 Example folder \u4e2d\u67e5\u770b\u4e00\u4e9b\u7b80\u5355\u7684\u4f8b\u5b50 \u521d\u59cb\u5316 API Facebook \u5b58\u5728\u4e0d\u540c\u7c7b\u578b\u7684\u8bbf\u95ee\u53e3\u4ee4\u3002\u4f7f\u7528\u4e0d\u540c\u7684\u8bbf\u95ee\u53e3\u4ee4\u53ef\u4ee5\u83b7\u53d6\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002 \u7528\u6237\u8bbf\u95ee\u53e3\u4ee4 \u5e94\u7528\u8bbf\u95ee\u53e3\u4ee4 \u4e3b\u9875\u8bbf\u95ee\u53e3\u4ee4 \u5ba2\u6237\u7aef\u8bbf\u95ee\u53e3\u4ee4 (\u7531\u4e8e\u7528\u5230\u8be5\u53e3\u4ee4\u7684\u5730\u65b9\u5f88\u5c11\uff0c\u6b64\u5e93\u4e0d\u63d0\u4f9b) \u4f60\u53ef\u4ee5\u9605\u8bfb\u6709\u5173 Access-Token \u7684\u6587\u6863\u53bb\u83b7\u53d6\u66f4\u591a\u7684\u4fe1\u606f\u3002 \u5982\u679c\u4f60\u60f3\u8981\u901a\u8fc7\u7528\u6237\u8fdb\u884c\u6388\u6743\u6765\u83b7\u53d6\u7528\u6237\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u6309\u7167 \u624b\u52a8\u6388\u6743 \u7684\u6587\u6863\u6765\u521d\u59cb\u5316 Api \u3002 \u5982\u679c\u4f60\u53ea\u662f\u60f3\u901a\u8fc7\u5e94\u7528\u8bbf\u95ee\u53e3\u4ee4\u6765\u83b7\u53d6\u4e00\u4e9b\u516c\u5f00\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api : api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , application_only_auth = True ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=None) \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u77ed\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api: api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u957f\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api (\u6ce8\u610f\uff0c\u53ea\u63d0\u4f9b\u4e00\u4e2a long_term_token \u53c2\u6570\u5df2\u7ecf\u8db3\u4ee5\u521d\u59cb\u5316\uff0c\u5f53\u65f6\u4e3a\u4e86\u5b89\u5168\u5668\u4ef6\uff0c\u6700\u597d\u8fd8\u662f\u63d0\u4f9b\u4e00\u4e0b app \u7684\u8ba4\u8bc1\u6570\u636e): api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') # \u53ea\u4f7f\u7528 ``long_term_token`` \u53c2\u6570\u65f6\uff0c\u9700\u8981\u8be5\u53e3\u4ee4\u5177\u6709 ``manage_pages`` \u7684\u6743\u9650 api = Api ( long_term_token = \"long-term token\" ) \u4f7f\u7528\u77ed\u671f\u53e3\u4ee4\u548c\u957f\u671f\u53e3\u4ee4\u521d\u59cb\u5316\u7684\u533a\u522b\u5728\u4e8e\uff0c\u4f7f\u7528\u77ed\u671f\u53e3\u4ee4\u65f6\uff0c\u5e93\u4f1a\u81ea\u52a8\u83b7\u53d6\u5230 \u957f\u671f\u7684\u53e3\u4ee4\u3002 Facebook \u5e73\u53f0\u7684\u901f\u7387\u9650\u5236\u5f88\u6a21\u7cca\uff0c\u4e0e\u4f60\u7684\u5e94\u7528\u7684\u7528\u6237\u7684\u6570\u91cf\u6709\u5173\uff0c\u6240\u4ee5\u6b64\u5904\u5141\u8bb8\u81ea\u5b9a\u4e49\u4e24\u6b21\u8bf7\u6c42\u7684\u95f4\u9694\u65f6\u95f4\u3002 \u4f60\u53ef\u4ee5\u53ea\u8bbe\u7f6e\u53c2\u6570 sleep_on_rate_limit \u4e3a True , \u8fd9\u6837\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u95f4\u9694\u56fa\u5b9a\u4e3a\u4e86 2 \u79d2\u3002 \u6216\u8005\u4f60\u53ef\u4ee5\u7ed9\u53c2\u6570 sleep_seconds_mapping \u4f20\u9012\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u65f6\u95f4\u6570\u636e\uff0c\u6bd4\u5982: mapping = { 10 : 2 , 20 : 5 , 50 : 20 , 70 : 30 } # key is api limit reached percent and value is seconds to sleep. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" , sleep_on_rate_limit = True , sleep_seconds_mapping = mapping ) \u83b7\u53d6\u6570\u636e \u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u4e00\u4e2a\u4e3b\u9875\u7684\u516c\u5f00\u6570\u636e\u3002 \u83b7\u53d6\u5355\u4e2a\u4e3b\u9875\u7684\u516c\u5f00\u6570\u636e: api . get_page_info ( username = 'facebookapp' ) # Page(id='20531316728', name='Facebook', username='facebookapp') \u4ec5\u901a\u8fc7\u4e00\u6b21\u8bf7\u6c42\u6765\u83b7\u53d6\u591a\u4e2a\u4e3b\u9875\u7684\u516c\u5f00\u6570\u636e(\u53c2\u6570 ids \u53ef\u4ee5\u662f\u4e3b\u9875 ID \u548c\u4e3b\u9875\u7528\u6237\u540d\u6df7\u7528\u7684\u5217\u8868): api . get_pages_info ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': Page(id='20531316728', name='Facebook', username='facebookapp'), 'nba': Page(id='8245623462', name='NBA', username='nba')} \u5b58\u5728\u591a\u79cd\u65b9\u6cd5\u6765\u83b7\u53d6\u4e3b\u9875\u7684\u5e16\u5b50\u6570\u636e\u3002 api . get_page_feeds () api . get_page_posts () api . get_page_published_posts () api . get_page_tagged_posts () \u4e3b\u9875 feeds \u53ef\u4ee5\u83b7\u53d6\u4e3b\u9875\u6216\u8005\u7531\u6b64\u4e3b\u9875\u4e0a\u7684\u5176\u4ed6\u4eba\u53d1\u5e03\u7684\u5e16\u5b50\u52a8\u6001(\u5305\u62ec\u72b6\u6001\u66f4\u65b0)\u548c\u94fe\u63a5: api . get_page_feeds ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] \u4e3b\u9875 posts \u53ea\u80fd\u83b7\u53d6\u5230\u7531\u8be5\u4e3b\u9875\u53d1\u5e03\u7684\u5e16\u5b50: api . get_page_posts ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] \u56e0\u4e3a\u56fe\u8c31 API \u7684\u9650\u5236. \u52a8\u6001 \u3002 API \u6bcf\u5e74\u8fd4\u56de\u5927\u7ea6 600 \u4e2a\u7ecf\u6392\u540d\u7684\u5e16\u5b50\u3002 \u6240\u4ee5\u5982\u679c\u4f60\u60f3\u8981\u83b7\u53d6\u4e3b\u9875\u7684\u6240\u6709\u5e16\u5b50\u6216\u8005\u6807\u8bb0\u8be5\u4e3b\u9875\u7684\u5e16\u5b50\u3002\u4f60\u9700\u8981\u4f7f\u7528 get_page_published_posts \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u9700\u8981\u4f60\u7684\u8bbf\u95ee\u53e3\u4ee4\u5e26\u6709 manage_pages \u7684\u6743\u9650\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7\u6388\u6743\u6765\u5f97\u5230\u8fd9\u6837\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u6309\u7167 \u624b\u52a8\u6388\u6743 \u7684\u6587\u6863\u5373\u53ef\u3002 \u4e4b\u540e\u4f60\u53ef\u4ee5\u83b7\u53d6\u5230\u4e3b\u9875\u6240\u6709\u5e16\u5b50: api . get_published_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] \u83b7\u53d6\u6807\u8bb0\u8be5\u4e3b\u9875\u7684\u5e16\u5b50: api . get_tagged_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u5e16\u5b50\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u6cd5\u6765\u83b7\u53d6\u5e16\u5b50\u7684\u8be6\u60c5\u6570\u636e\u3002 \u83b7\u53d6\u5355\u4e2a\u5e16\u5b50\u7684\u6570\u636e: api . get_post_info ( post_id = \"20531316728_587455038708591\" ) # Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/') \u5355\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u5e16\u5b50\u7684\u6570\u636e: api . get_posts_info ( ids = [ \"20531316728_587455038708591\" , \"20531316728_10159023836696729\" ]) # {'20531316728_587455038708591': Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # '20531316728_10159023836696729': Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')} \u4f60\u53ef\u4ee5\u901a\u8fc7\u8d44\u6e90\u5bf9\u8c61(\u5e16\u5b50\uff0c\u56fe\u7247\u7b49)\u7684 ID \u6765\u83b7\u53d6\u5bf9\u5e94\u7684\u8bc4\u8bba\u6570\u636e: api . get_comments_by_object ( object_id = \"20531316728_587455038708591\" , count = 2 ) # ([Comment(id='587455038708591_587460942041334', can_like=True, can_comment=True, comment_count=2, like_count=1), # Comment(id='587455038708591_587464298707665', can_like=True, can_comment=True, comment_count=2, like_count=14)], # CommentSummary(total_count=392, can_comment=True)) \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u8bc4\u8bba\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6765\u83b7\u53d6\u8bc4\u8bba\u7684\u8be6\u60c5\u6570\u636e: \u83b7\u53d6\u5355\u4e2a\u8bc4\u8bba\u7684\u6570\u636e: api . get_comment_info ( comment_id = \"587455038708591_587460942041334\" ) # Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1) \u5355\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u8bc4\u8bba\u7684\u6570\u636e: api . get_comments_info ( ids = [ \"587455038708591_587460942041334\" , \"587455038708591_587464298707665\" ]) # {'587455038708591_587460942041334': Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1), # '587455038708591_587464298707665': Comment(id='587455038708591_587464298707665', comment_count=2, like_count=14)} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6765\u83b7\u53d6\u4e3b\u9875\u7684\u5934\u50cf\u3002 \u83b7\u53d6\u5355\u4e2a\u4e3b\u9875\u7684\u5934\u50cf\u6570\u636e: api . get_picture ( page_id = \"20531316728\" ) # ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100) \u5355\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u4e3b\u9875\u7684\u5934\u50cf\u6570\u636e: api . get_pictures ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100), # 'nba': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/81204460_10158199356848463_5727214464013434880_n.jpg?_nc_cat=1&_nc_oc=AQmcent57E-a-923C_VVpiX26nGqKDodImY1gsiu7h1czDmcpLHXR8D5hIh9g9Ao3wY&_nc_ht=scontent.xx&oh=1656771e6c11bd03147b69ee643238ba&oe=5E66450C', height=100, width=100)} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61(\u4e3b\u9875\uff0c\u7528\u6237)\u7684ID\u83b7\u53d6\u8be5\u5bf9\u8c61\u7684\u89c6\u9891: api . get_videos_by_object ( \"ikaroskunlife\" , fields = [ \"id\" , \"title\" , \"description\" ], count = None , limit = 20 ) # [Video(id='969222676905304', created_time=None, description='\u51ac\u65e5'), # Video(id='210174653594254', created_time=None, description='Snowing'), # Video(id='674270653053120', created_time=None, description='Visible')] \u5982\u679c\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u89c6\u9891\u7684ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u89c6\u9891\u66f4\u591a\u4fe1\u606f: api . get_video_info ( \"969222676905304\" ) # Video(id='969222676905304', created_time='2020-09-12T09:53:06+0000', description='\u51ac\u65e5') api . get_videos ( ids = [ \"210174653594254\" , \"674270653053120\" ]) # {'210174653594254': Video(id='210174653594254', created_time='2020-03-31T08:13:14+0000', description='Snowing'), # '674270653053120': Video(id='674270653053120', created_time='2019-09-02T06:13:17+0000', description='Visible')} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61(\u4e3b\u9875\uff0c\u7528\u6237)\u7684ID\u83b7\u53d6\u8be5\u5bf9\u8c61\u7684\u76f8\u518c: api . get_albums_by_object ( \"instagram\" , count = 20 , limit = 15 ) # [Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')...] \u5982\u679c\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u76f8\u518c\u7684ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u76f8\u518c\u66f4\u591a\u4fe1\u606f: api . get_album_info ( \"372558296163354\" ) # Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247') api . get_albums ( ids = \"372558296163354,623202484432266\" ) # {'372558296163354': Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # '623202484432266': Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61(\u4e3b\u9875\uff0c\u7528\u6237)\u7684ID\u83b7\u53d6\u8be5\u5bf9\u8c61\u7684\u56fe\u7247: api . get_photos_by_object ( \"372558296163354\" , count = 10 , limit = 5 ) # [Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/'), # Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)...] \u5982\u679c\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u56fe\u7247\u7684ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u56fe\u7247\u66f4\u591a\u4fe1\u606f: api . get_photo_info ( \"3293405020745319\" ) # Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/') api . get_photos ( ids = [ \"3279789248773563\" , \"3276650595754095\" ]) # {'3279789248773563': Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # '3276650595754095': Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)} \u540c\u6837\u7684\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5230: \u76f4\u64ad\u89c6\u9891\u6570\u636e\uff0c\u4ee5\u53ca\u76f4\u64ad\u89c6\u9891\u7684\u6d41\u6570\u636e Instagram Graph API Instagram \u56fe\u8c31 API \u53ef\u4ee5 instagram Professional accounts <https://help.instagram.com/502981923235522> _ (\u5546\u5bb6\u548c\u521b\u4f5c\u8005) \u7684\u6570\u636e\u3002 \u521d\u59cb\u5316 Api \u548c Facebook \u7684\u56fe\u8c31 API \u7684\u7c7b\u4f3c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u6765\u521d\u59cb\u5316 Api\u3002\u4f46\u662f\u4f60\u53ea\u80fd\u4f7f\u7528\u7528\u6237\u8bbf\u95ee\u53e3\u4ee4\uff0c\u5e76\u4e14\u9700\u8981\u4f60\u7684\u5546\u52a1\u5e10\u53f7 ID\u3002 \u5982\u679c\u4f60\u60f3\u8981\u901a\u8fc7\u6388\u6743\u6765\u83b7\u53d6\u7528\u6237\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u6309\u7167 \u624b\u52a8\u6388\u6743 \u6765\u521d\u59cb\u5316 api\u3002 \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u77ed\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api: api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" , instagram_business_id = \"17841406338772941\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=\"token user id\") \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u957f\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api (\u6ce8\u610f\uff0c\u53ea\u63d0\u4f9b\u4e00\u4e2a long_term_token \u53c2\u6570\u5df2\u7ecf\u8db3\u4ee5\u521d\u59cb\u5316\uff0c\u5f53\u65f6\u4e3a\u4e86\u5b89\u5168\u5668\u4ef6\uff0c\u6700\u597d\u8fd8\u662f\u63d0\u4f9b\u4e00\u4e0b app \u7684\u8ba4\u8bc1\u6570\u636e): api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') \u83b7\u53d6\u6570\u636e \u5982\u679c\u4f60\u60f3\u8981\u641c\u7d22\u5176\u4ed6\u5546\u5bb6\u5e10\u53f7\u7684\u57fa\u7840\u6570\u636e\u548c\u5e16\u5b50\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7684\u65b9\u6cd5: discovery_user: \u83b7\u53d6\u7528\u6237\u7684\u57fa\u7840\u6570\u636e discovery_user_medias: \u83b7\u53d6\u7528\u6237\u7684\u5e16\u5b50 Note \u4f7f\u7528 discovery \u65b9\u6cd5\u8fdb\u884c\u641c\u7d22\u53ea\u652f\u6301\u4f7f\u7528\u7528\u6237\u540d \u901a\u8fc7\u5176\u4ed6\u5546\u5bb6\u7528\u6237\u7684\u7528\u6237\u540d\u6765\u83b7\u53d6\u57fa\u7840\u6570\u636e: api . discovery_user ( username = \"facebook\" ) # IgProUser(id='17841400455970028', name='Facebook', username='facebook') \u901a\u8fc7\u5176\u4ed6\u5546\u5bb6\u7528\u6237\u7684\u7528\u6237\u540d\u6765\u83b7\u53d6\u5e16\u5b50\u6570\u636e: api . discovery_user_medias ( username = \"facebook\" , count = 2 ) # [IgProMedia(comments=None, id='17859633232647524', permalink='https://www.instagram.com/p/B6jje2UnoH8/'), # IgProMedia(comments=None, id='18076151185161297', permalink='https://www.instagram.com/p/B6ji-PZH2V1/')] \u83b7\u53d6\u4f60\u7684\u5e10\u53f7\u7684\u4fe1\u606f: api . get_user_info ( user_id = \"your instagram business id\" ) # IgProUser(id='17841406338772941', name='LiuKun', username='ikroskun') \u83b7\u53d6\u4f60\u7684\u5e16\u5b50: api . get_user_medias ( user_id = api . instagram_business_id , count = 2 ) # [IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u5e16\u5b50\u7684 ID \u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u5e16\u5b50\u7684\u8be6\u60c5\u6570\u636e\u3002 \u83b7\u53d6\u5355\u4e2a\u5e16\u5b50\u7684\u8be6\u60c5\u4fe1\u606f: api . get_media_info ( media_id = \"18075344632131157\" ) # IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/') \u901a\u8fc7\u5355\u4e2a\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u5e16\u5b50\u7684\u8be6\u60c5\u6570\u636e: api . get_medias_info ( media_ids = [ \"18075344632131157\" , \"18027939643230671\" ]) # {'18075344632131157': IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # '18027939643230671': IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')} \u83b7\u53d6\u67d0\u4e2a\u5e16\u5b50\u7684\u8bc4\u8bba\u6570\u636e: api . get_comments_by_media ( media_id = \"17955956875141196\" , count = 2 ) # [IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u8bc4\u8bba\u7684\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6765\u83b7\u53d6\u8bc4\u8bba\u8be6\u60c5\u3002 \u83b7\u53d6\u5355\u4e2a\u8bc4\u8bba\u7684\u8be6\u60c5: api . get_comment_info ( comment_id = \"17862949873623188\" ) # IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000') \u901a\u8fc7\u5355\u4e2a\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u8bc4\u8bba\u7684\u8be6\u60c5: api . get_comments_info ( comment_ids = [ \"17862949873623188\" , \"17844360649889631\" ]) # {'17862949873623188': IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # '17844360649889631': IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')} \u83b7\u53d6\u67d0\u4e2a\u8bc4\u8bba\u7684\u56de\u590d: api . get_replies_by_comment ( \"17984127178281340\" , count = 2 ) # [IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u8bc4\u8bba\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u6cd5\u6765\u83b7\u53d6\u56de\u590d\u8be6\u60c5\u3002 \u83b7\u53d6\u5355\u4e2a\u8bc4\u8bba\u7684\u8be6\u60c5: api . get_reply_info ( reply_id = \"18107567341036926\" ) # IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000') \u901a\u8fc7\u5355\u4e2a\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u56de\u590d\u7684\u8be6\u60c5: api . get_replies_info ( reply_ids = [ \"18107567341036926\" , \"17846106427692294\" ]) # {'18107567341036926': IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # '17846106427692294': IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')} \u4f7f\u7528 get_user_insights \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u8d26\u53f7\u7684\u6388\u6743\u6570\u636e\u3002 \u5982\u679c\u4f60\u6709\u53e6\u4e00\u4e2a\u4e1a\u52a1\u8d26\u53f7\u7684\u6388\u6743\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u53c2\u6570\uff0c\u6765\u83b7\u53d6\u8be5\u8d26\u53f7\u7684\u6388\u6743\u6570\u636e\u3002 \u6216\u8005\u53ea\u83b7\u53d6\u4f60\u8d26\u53f7\u7684\u6388\u6743\u6570\u636e: api . get_user_insights ( user_id = api . instagram_business_id , period = \"day\" , metrics = [ \"impressions\" , \"reach\" ]) # [IgProInsight(name='impressions', period='day'), IgProInsight(name='reach', period='day')] \u4e0e get_user_insights \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u53c2\u6570\u6765\u83b7\u53d6\u5176\u4ed6\u4e1a\u52a1\u5e10\u53f7\u7684\u5e16\u5b50\u6388\u6743\u6570\u636e\u3002 \u6216\u8005\u83b7\u53d6\u4f60\u81ea\u5df1\u7684\u5e16\u5b50\u7684\u6388\u6743\u6570\u636e: api . get_media_insights ( media_id = \"media_id\" , metrics = [ \"engagement\" , \"impressions\" ]) # [IgProInsight(name='engagement', period='lifetime'), IgProInsight(name='impressions', period='lifetime')] \u641c\u7d22\u6807\u7b7e\u7684ID: api . search_hashtag ( q = \"love\" ) # [IgProHashtag(id='17843826142012701', name=None)] \u83b7\u53d6\u6807\u7b7e\u7684\u4fe1\u606f: api . get_hashtag_info ( hashtag_id = \"17843826142012701\" ) # IgProHashtag(id='17843826142012701', name='love') \u83b7\u53d6\u4f7f\u7528\u8be5\u6807\u7b7e\u7684\u6392\u540d\u8f83\u9ad8\u7684\u5e16\u5b50: api . get_hashtag_top_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18086291068155608', permalink='https://www.instagram.com/p/B8ielBPpHaw/'), # IgProMedia(comments=None, id='17935250359346228', permalink='https://www.instagram.com/p/B8icUmwoF0Y/'), # IgProMedia(comments=None, id='17847031435934181', permalink='https://www.instagram.com/p/B8icycxKEn-/'), # IgProMedia(comments=None, id='18000940699302502', permalink='https://www.instagram.com/p/B8ieNN7Cv6S/'), # IgProMedia(comments=None, id='18025516372248793', permalink='https://www.instagram.com/p/B8iduQJgSyO/')] \u83b7\u53d6\u4f7f\u7528\u8be5\u6807\u7b7e\u7684\u6700\u8fd1\u7684\u5e16\u5b50: api . get_hashtag_recent_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18128248021002097', permalink='https://www.instagram.com/p/B8ifnoWA5Ru/'), # IgProMedia(comments=None, id='18104579776105272', permalink='https://www.instagram.com/p/B8ifwfsgBw2/'), # IgProMedia(comments=None, id='17898846532442427', permalink='https://www.instagram.com/p/B8ifwZ4ltqP/'), # IgProMedia(comments=None, id='17891698510462453', permalink='https://www.instagram.com/p/B8ifwepgf_E/'), # IgProMedia(comments=None, id='17883544606492965', permalink='https://www.instagram.com/p/B8ifwabgiPf/')] \u5982\u679c\u4f60\u6709\u5176\u4ed6\u4e1a\u52a1\u53f7\u7684\u6388\u6743\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u6765\u83b7\u53d6\u5230\u8be5\u8d26\u53f7\u7684\u6807\u7b7e\u641c\u7d22\u8bb0\u5f55\uff0c \u6216\u8005\u83b7\u53d6\u4f60\u81ea\u5df1\u7684\u641c\u7d22\u8bb0\u5f55: api . get_user_recently_searched_hashtags ( user_id = \"17841406338772941\" ) # [IgProHashtag(id='17843826142012701', name='love'), IgProHashtag(id='17841562447105233', name='loveyou')] \u83b7\u53d6\u6807\u8bb0\u4e86\u7528\u6237\u7684\u5e16\u5b50\u3002\u5982\u679c\u4f60\u6709\u5176\u4ed6\u4e1a\u52a1\u8d26\u53f7\u7684\u6388\u6743\uff0c\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u6765\u83b7\u53d6\u5230\u6807\u8bb0\u8be5\u8d26\u53f7\u7684\u5e16\u6587\u3002 \u6216\u8005\u83b7\u53d6\u6807\u8bb0\u4f60\u81ea\u5df1\u8d26\u53f7\u7684\u5e16\u5b50: medias = api . get_tagged_user_medias ( user_id = api . instagram_business_id , count = 2 , limit = 5 ) # [IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/'), # IgProMedia(id='17846368219941692', permalink='https://www.instagram.com/p/B8gQCApHMT-/')] \u83b7\u53d6\u63d0\u5230\u4e86\u4f60\u7684\u8bc4\u8bba\u7684\u8be6\u60c5\u4fe1\u606f: api . get_mentioned_comment_info ( user_id = api . instagram_business_id , comment_id = \"17892250648466172\" ) # IgProComment(id='17892250648466172', timestamp='2020-02-24T09:15:16+0000') \u83b7\u53d6\u63d0\u5230\u4e86\u4f60\u7684\u5e16\u5b50\u7684\u8be6\u60c5\u4fe1\u606f: api . get_mentioned_media_info ( user_id = api . instagram_business_id , media_id = \"18027939643230671\" ) # IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/') Instagram Basic API Instagram \u57fa\u672c\u663e\u793a API \u53ef\u4ee5\u7528\u6765\u8bbf\u95ee\u4efb\u4f55\u7c7b\u578b\u7684 Instagram \u8d26\u6237\uff0c\u4f46\u662f\u4ec5\u4ec5\u63d0\u4f9b\u5bf9\u57fa\u672c\u6570\u636e\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u4f7f\u7528\u8be5 API \u65f6\uff0c\u4f60\u9700\u8981\u9996\u5148\u8fdb\u884c\u6388\u6743\uff0c\u83b7\u53d6\u62e5\u6709\u8bbf\u95ee\u6570\u636e\u7684\u6743\u9650\u7684\u8bbf\u95ee\u53e3\u4ee4\u3002 \u6240\u6709\u7684\u6587\u6863\u4f60\u53ef\u4ee5\u4f60\u53ef\u4ee5\u8bbf\u95ee \u57fa\u672c\u663e\u793a API . \u521d\u59cb\u5316 Api \u73b0\u5728\u63d0\u4f9b\u4e09\u79cd\u65b9\u5f0f\u521d\u59cb\u5316 Api \u5b9e\u4f8b\u3002 \u5982\u679c\u4f60\u5df2\u7ecf\u62e5\u6709\u957f\u6548\u7684\u8bbf\u95ee\u53e3\u4ee4\u3002\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8be5\u8bbf\u95ee\u53e3\u4ee4\u8fdb\u884c\u521d\u59cb\u5316: from pyfacebook import IgBasicApi api = IgBasicApi ( long_term_token = \"token\" ) \u5982\u679c\u4f60\u6709\u77ed\u6548\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u9700\u8981\u63d0\u4f9b\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u5bc6\u94a5\uff0c\u7528\u4ee5\u4ea4\u6362\u5230\u957f\u6548\u7684\u8bbf\u95ee\u53e3\u4ee4: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , short_token = \"token\" ) \u5982\u679c\u4f60\u53ea\u60f3\u8981\u4f7f\u7528\u5e94\u7528\u5bc6\u94a5\u521d\u59cb\u5316 Api\uff0c\u7136\u540e\u4ea4\u7531\u7528\u6237\u624b\u52a8\u8fdb\u884c\u6388\u6743\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u6388\u6743\u6d41\u7a0b: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , initial_access_token = False ) api . get_authorization_url () # ('https://api.instagram.com/oauth/authorize?response_type=code&client_id=app+id&redirect_uri=https%3A%2F%2Flocalhost%2F&scope=user_profile+user_media&state=PyFacebook', 'PyFacebook') # give permission and copy the redirect full url. api . exchange_access_token ( response = \"the full url\" ) \u6570\u636e\u83b7\u53d6 \u4f60\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684\u57fa\u7840\u4fe1\u606f: api . get_user_info () # IgBasicUser(id='17841406338772941', username='ikroskun') \u4f60\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684\u5e16\u5b50\u4fe1\u606f: api . get_user_medias () # [IgBasicMedia(id='17846368219941692', media_type='IMAGE', permalink='https://www.instagram.com/p/B8gQCApHMT-/'), # IgBasicMedia(id='17970645226046242', media_type='IMAGE', permalink='https://www.instagram.com/p/Bme0cU1giOH/')] \u4f60\u53ef\u4ee5\u83b7\u53d6\u5f53\u4e2a\u5e16\u5b50\u7684\u4fe1\u606f: api . get_media_info ( media_id = \"18027939643230671\" ) # IgBasicMedia(id='18027939643230671', media_type='CAROUSEL_ALBUM', permalink='https://www.instagram.com/p/B38Xyp6nqsS/') TODO \u5f53\u524d\u7684\u529f\u80fd Facebook\uff1a \u4e3b\u9875\u4fe1\u606f \u4e3b\u9875\u56fe\u7247\u4fe1\u606f \u5e16\u5b50\u6570\u636e \u8bc4\u8bba\u6570\u636e \u89c6\u9891\u6570\u636e \u76f8\u518c\u6570\u636e \u56fe\u7247\u6570\u636e Instagram\uff1a \u641c\u7d22\u5176\u4ed6\u4e1a\u52a1\u4e3b\u9875\u7684\u57fa\u7840\u4fe1\u606f\u548c\u5e16\u5b50 \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u57fa\u7840\u4fe1\u606f \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u5e16\u5b50\u4fe1\u606f \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u5e16\u5b50\u8bc4\u8bba\u6570\u636e \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u8bc4\u8bba\u7684\u56de\u590d\u6570\u636e \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7528\u6237\u7684 Insights \u6570\u636e \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u5e16\u5b50\u7684 Insights \u6570\u636e \u641c\u7d22\u6807\u7b7e ID \u83b7\u53d6\u6807\u7b7e\u4fe1\u606f \u83b7\u53d6\u6807\u7b7e\u4e0b\u6392\u540d\u9760\u524d\u7684\u5e16\u5b50 \u83b7\u53d6\u6807\u7b7e\u4e0b\u6700\u8fd1\u7684\u5e16\u5b50 \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u6807\u7b7e\u641c\u7d22\u8bb0\u5f55 \u83b7\u53d6\u6807\u8bb0\u4e86\u7528\u6237\u7684\u5e16\u6587 \u83b7\u53d6\u63d0\u5230\u4e86\u7528\u6237\u7684\u8bc4\u8bba\u4fe1\u606f \u83b7\u53d6\u63d0\u5230\u4e86\u7528\u6237\u7684\u5e16\u5b50\u4fe1\u606f Instagram \u57fa\u7840\u663e\u793a API: \u83b7\u53d6\u7528\u6237\u4fe1\u606f \u83b7\u53d6\u7684\u7528\u6237\u7684\u5e16\u5b50 \u83b7\u53d6\u5e16\u5b50\u7684\u8be6\u60c5 \u5f85\u505a \u53d1\u5e03\u5e16\u5b50","title":"\u57fa\u7840\u6559\u7a0b"},{"location":"previous-version/usage_zh/#_1","text":"\u7075\u611f\u6765\u81ea Python-Twitter .","title":"\u81f4\u8c22"},{"location":"previous-version/usage_zh/#_2","text":"\u8be5\u5e93\u63d0\u4f9b\u4e00\u79cd\u66f4\u52a0\u7b80\u5355\u7684\u65b9\u5f0f\u53bb\u4f7f\u7528 Facebook \u5e73\u53f0\u7684\u6570\u636e\u63a5\u53e3\u3002 \u6ce8\u610f\uff0c\u5f53\u4f60\u4f7f\u7528\u65f6\uff0c\u7531\u4e8e\u4e00\u4e9b\u539f\u56e0\uff0c\u9700\u8981\u5728\u5916\u7f51\u73af\u5883\u4e0b\u624d\u53ef\u4ee5\u4f7f\u7528\u3002 \u76ee\u524d\u5305\u62ec\u4e86 Facebook , Instagram Business , Instagram Basic Display \u4ea7\u54c1\u6570\u636e\u7684\u4f7f\u7528\u3002","title":"\u8bf4\u660e"},{"location":"previous-version/usage_zh/#_3","text":"\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528 pip \u6765\u5b89\u88c5\u8fd9\u4e2a\u5305\u5566: $ pip install --upgrade python-facebook-api # \u2728\ud83c\udf70\u2728","title":"\u5b89\u88c5"},{"location":"previous-version/usage_zh/#_4","text":"\u4f60\u53ef\u4ee5\u8bbf\u95ee: https://sns-sdks.github.io/python-facebook/ \u53bb\u67e5\u770b\u76f8\u5173\u6587\u6863 (Doing). \u6d89\u53ca\u7684 Facebook Graph API \u4f60\u90fd\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee: https://developers.facebook.com/docs/graph-api/ \u53bb\u67e5\u770b \u6d89\u53ca\u7684 Instagram Graph API \u4f60\u90fd\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee: https://developers.facebook.com/docs/instagram-api/ \u53bb\u67e5\u770b \u6d89\u53ca\u7684 Instagram Basic Display API \u4f60\u90fd\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee: https://developers.facebook.com/docs/instagram-basic-display-api/ \u53bb\u67e5\u770b","title":"\u6587\u6863"},{"location":"previous-version/usage_zh/#facebook-graph-api","text":"API \u901a\u8fc7 pyfacebook.Api \u7c7b\u516c\u5f00\u8bbf\u95ee\u3002 \u4e3a\u4e86\u83b7\u53d6\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u4f60\u9996\u5148\u9700\u8981\u4e00\u4e2a Facebook App\u3002 \u4f60\u53ef\u4ee5\u8bbf\u95ee App docs \u53bb\u83b7\u53d6\u66f4\u591a\u5173\u4e8e\u5982\u4f55\u521b\u5efa App \u548c \u5982\u4f55\u4e3a App \u7533\u8bf7\u76f8\u5173\u7684\u6743\u9650\u7684\u4fe1\u606f\u3002 \u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u5728 Example folder \u4e2d\u67e5\u770b\u4e00\u4e9b\u7b80\u5355\u7684\u4f8b\u5b50","title":"Facebook Graph API"},{"location":"previous-version/usage_zh/#api","text":"Facebook \u5b58\u5728\u4e0d\u540c\u7c7b\u578b\u7684\u8bbf\u95ee\u53e3\u4ee4\u3002\u4f7f\u7528\u4e0d\u540c\u7684\u8bbf\u95ee\u53e3\u4ee4\u53ef\u4ee5\u83b7\u53d6\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002 \u7528\u6237\u8bbf\u95ee\u53e3\u4ee4 \u5e94\u7528\u8bbf\u95ee\u53e3\u4ee4 \u4e3b\u9875\u8bbf\u95ee\u53e3\u4ee4 \u5ba2\u6237\u7aef\u8bbf\u95ee\u53e3\u4ee4 (\u7531\u4e8e\u7528\u5230\u8be5\u53e3\u4ee4\u7684\u5730\u65b9\u5f88\u5c11\uff0c\u6b64\u5e93\u4e0d\u63d0\u4f9b) \u4f60\u53ef\u4ee5\u9605\u8bfb\u6709\u5173 Access-Token \u7684\u6587\u6863\u53bb\u83b7\u53d6\u66f4\u591a\u7684\u4fe1\u606f\u3002 \u5982\u679c\u4f60\u60f3\u8981\u901a\u8fc7\u7528\u6237\u8fdb\u884c\u6388\u6743\u6765\u83b7\u53d6\u7528\u6237\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u6309\u7167 \u624b\u52a8\u6388\u6743 \u7684\u6587\u6863\u6765\u521d\u59cb\u5316 Api \u3002 \u5982\u679c\u4f60\u53ea\u662f\u60f3\u901a\u8fc7\u5e94\u7528\u8bbf\u95ee\u53e3\u4ee4\u6765\u83b7\u53d6\u4e00\u4e9b\u516c\u5f00\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api : api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , application_only_auth = True ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=None) \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u77ed\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api: api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u957f\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api (\u6ce8\u610f\uff0c\u53ea\u63d0\u4f9b\u4e00\u4e2a long_term_token \u53c2\u6570\u5df2\u7ecf\u8db3\u4ee5\u521d\u59cb\u5316\uff0c\u5f53\u65f6\u4e3a\u4e86\u5b89\u5168\u5668\u4ef6\uff0c\u6700\u597d\u8fd8\u662f\u63d0\u4f9b\u4e00\u4e0b app \u7684\u8ba4\u8bc1\u6570\u636e): api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id') # \u53ea\u4f7f\u7528 ``long_term_token`` \u53c2\u6570\u65f6\uff0c\u9700\u8981\u8be5\u53e3\u4ee4\u5177\u6709 ``manage_pages`` \u7684\u6743\u9650 api = Api ( long_term_token = \"long-term token\" ) \u4f7f\u7528\u77ed\u671f\u53e3\u4ee4\u548c\u957f\u671f\u53e3\u4ee4\u521d\u59cb\u5316\u7684\u533a\u522b\u5728\u4e8e\uff0c\u4f7f\u7528\u77ed\u671f\u53e3\u4ee4\u65f6\uff0c\u5e93\u4f1a\u81ea\u52a8\u83b7\u53d6\u5230 \u957f\u671f\u7684\u53e3\u4ee4\u3002 Facebook \u5e73\u53f0\u7684\u901f\u7387\u9650\u5236\u5f88\u6a21\u7cca\uff0c\u4e0e\u4f60\u7684\u5e94\u7528\u7684\u7528\u6237\u7684\u6570\u91cf\u6709\u5173\uff0c\u6240\u4ee5\u6b64\u5904\u5141\u8bb8\u81ea\u5b9a\u4e49\u4e24\u6b21\u8bf7\u6c42\u7684\u95f4\u9694\u65f6\u95f4\u3002 \u4f60\u53ef\u4ee5\u53ea\u8bbe\u7f6e\u53c2\u6570 sleep_on_rate_limit \u4e3a True , \u8fd9\u6837\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u95f4\u9694\u56fa\u5b9a\u4e3a\u4e86 2 \u79d2\u3002 \u6216\u8005\u4f60\u53ef\u4ee5\u7ed9\u53c2\u6570 sleep_seconds_mapping \u4f20\u9012\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u65f6\u95f4\u6570\u636e\uff0c\u6bd4\u5982: mapping = { 10 : 2 , 20 : 5 , 50 : 20 , 70 : 30 } # key is api limit reached percent and value is seconds to sleep. api = Api ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-term token\" , sleep_on_rate_limit = True , sleep_seconds_mapping = mapping )","title":"\u521d\u59cb\u5316 API"},{"location":"previous-version/usage_zh/#_5","text":"\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u4e00\u4e2a\u4e3b\u9875\u7684\u516c\u5f00\u6570\u636e\u3002 \u83b7\u53d6\u5355\u4e2a\u4e3b\u9875\u7684\u516c\u5f00\u6570\u636e: api . get_page_info ( username = 'facebookapp' ) # Page(id='20531316728', name='Facebook', username='facebookapp') \u4ec5\u901a\u8fc7\u4e00\u6b21\u8bf7\u6c42\u6765\u83b7\u53d6\u591a\u4e2a\u4e3b\u9875\u7684\u516c\u5f00\u6570\u636e(\u53c2\u6570 ids \u53ef\u4ee5\u662f\u4e3b\u9875 ID \u548c\u4e3b\u9875\u7528\u6237\u540d\u6df7\u7528\u7684\u5217\u8868): api . get_pages_info ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': Page(id='20531316728', name='Facebook', username='facebookapp'), 'nba': Page(id='8245623462', name='NBA', username='nba')} \u5b58\u5728\u591a\u79cd\u65b9\u6cd5\u6765\u83b7\u53d6\u4e3b\u9875\u7684\u5e16\u5b50\u6570\u636e\u3002 api . get_page_feeds () api . get_page_posts () api . get_page_published_posts () api . get_page_tagged_posts () \u4e3b\u9875 feeds \u53ef\u4ee5\u83b7\u53d6\u4e3b\u9875\u6216\u8005\u7531\u6b64\u4e3b\u9875\u4e0a\u7684\u5176\u4ed6\u4eba\u53d1\u5e03\u7684\u5e16\u5b50\u52a8\u6001(\u5305\u62ec\u72b6\u6001\u66f4\u65b0)\u548c\u94fe\u63a5: api . get_page_feeds ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] \u4e3b\u9875 posts \u53ea\u80fd\u83b7\u53d6\u5230\u7531\u8be5\u4e3b\u9875\u53d1\u5e03\u7684\u5e16\u5b50: api . get_page_posts ( page_id = \"20531316728\" , count = 2 ) # [Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')] \u56e0\u4e3a\u56fe\u8c31 API \u7684\u9650\u5236. \u52a8\u6001 \u3002 API \u6bcf\u5e74\u8fd4\u56de\u5927\u7ea6 600 \u4e2a\u7ecf\u6392\u540d\u7684\u5e16\u5b50\u3002 \u6240\u4ee5\u5982\u679c\u4f60\u60f3\u8981\u83b7\u53d6\u4e3b\u9875\u7684\u6240\u6709\u5e16\u5b50\u6216\u8005\u6807\u8bb0\u8be5\u4e3b\u9875\u7684\u5e16\u5b50\u3002\u4f60\u9700\u8981\u4f7f\u7528 get_page_published_posts \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u9700\u8981\u4f60\u7684\u8bbf\u95ee\u53e3\u4ee4\u5e26\u6709 manage_pages \u7684\u6743\u9650\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7\u6388\u6743\u6765\u5f97\u5230\u8fd9\u6837\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u6309\u7167 \u624b\u52a8\u6388\u6743 \u7684\u6587\u6863\u5373\u53ef\u3002 \u4e4b\u540e\u4f60\u53ef\u4ee5\u83b7\u53d6\u5230\u4e3b\u9875\u6240\u6709\u5e16\u5b50: api . get_published_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] \u83b7\u53d6\u6807\u8bb0\u8be5\u4e3b\u9875\u7684\u5e16\u5b50: api . get_tagged_posts ( username = 'facebookapp' , access_token = 'page access token' ) # [Post...] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u5e16\u5b50\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u6cd5\u6765\u83b7\u53d6\u5e16\u5b50\u7684\u8be6\u60c5\u6570\u636e\u3002 \u83b7\u53d6\u5355\u4e2a\u5e16\u5b50\u7684\u6570\u636e: api . get_post_info ( post_id = \"20531316728_587455038708591\" ) # Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/') \u5355\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u5e16\u5b50\u7684\u6570\u636e: api . get_posts_info ( ids = [ \"20531316728_587455038708591\" , \"20531316728_10159023836696729\" ]) # {'20531316728_587455038708591': Post(id='20531316728_587455038708591', permalink_url='https://www.facebook.com/facebookapp/videos/587455038708591/'), # '20531316728_10159023836696729': Post(id='20531316728_10159023836696729', permalink_url='https://www.facebook.com/20531316728/posts/10159023836696729/')} \u4f60\u53ef\u4ee5\u901a\u8fc7\u8d44\u6e90\u5bf9\u8c61(\u5e16\u5b50\uff0c\u56fe\u7247\u7b49)\u7684 ID \u6765\u83b7\u53d6\u5bf9\u5e94\u7684\u8bc4\u8bba\u6570\u636e: api . get_comments_by_object ( object_id = \"20531316728_587455038708591\" , count = 2 ) # ([Comment(id='587455038708591_587460942041334', can_like=True, can_comment=True, comment_count=2, like_count=1), # Comment(id='587455038708591_587464298707665', can_like=True, can_comment=True, comment_count=2, like_count=14)], # CommentSummary(total_count=392, can_comment=True)) \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u8bc4\u8bba\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6765\u83b7\u53d6\u8bc4\u8bba\u7684\u8be6\u60c5\u6570\u636e: \u83b7\u53d6\u5355\u4e2a\u8bc4\u8bba\u7684\u6570\u636e: api . get_comment_info ( comment_id = \"587455038708591_587460942041334\" ) # Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1) \u5355\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u8bc4\u8bba\u7684\u6570\u636e: api . get_comments_info ( ids = [ \"587455038708591_587460942041334\" , \"587455038708591_587464298707665\" ]) # {'587455038708591_587460942041334': Comment(id='587455038708591_587460942041334', comment_count=2, like_count=1), # '587455038708591_587464298707665': Comment(id='587455038708591_587464298707665', comment_count=2, like_count=14)} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6765\u83b7\u53d6\u4e3b\u9875\u7684\u5934\u50cf\u3002 \u83b7\u53d6\u5355\u4e2a\u4e3b\u9875\u7684\u5934\u50cf\u6570\u636e: api . get_picture ( page_id = \"20531316728\" ) # ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100) \u5355\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u4e3b\u9875\u7684\u5934\u50cf\u6570\u636e: api . get_pictures ( ids = [ \"20531316728\" , \"nba\" ]) # {'20531316728': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/58978526_10158354585751729_7411073224387067904_o.png?_nc_cat=1&_nc_oc=AQmaFO7eND-DVRoArrQLUZVDpmemw8nMPmHJWvoCyXId_MKLLHQdsS8UbTOX4oaEfeQ&_nc_ht=scontent.xx&oh=128f57c4dc65608993af62b562d92d84&oe=5E942420', height=100, width=100), # 'nba': ProfilePictureSource(url='https://scontent.xx.fbcdn.net/v/t1.0-1/p100x100/81204460_10158199356848463_5727214464013434880_n.jpg?_nc_cat=1&_nc_oc=AQmcent57E-a-923C_VVpiX26nGqKDodImY1gsiu7h1czDmcpLHXR8D5hIh9g9Ao3wY&_nc_ht=scontent.xx&oh=1656771e6c11bd03147b69ee643238ba&oe=5E66450C', height=100, width=100)} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61(\u4e3b\u9875\uff0c\u7528\u6237)\u7684ID\u83b7\u53d6\u8be5\u5bf9\u8c61\u7684\u89c6\u9891: api . get_videos_by_object ( \"ikaroskunlife\" , fields = [ \"id\" , \"title\" , \"description\" ], count = None , limit = 20 ) # [Video(id='969222676905304', created_time=None, description='\u51ac\u65e5'), # Video(id='210174653594254', created_time=None, description='Snowing'), # Video(id='674270653053120', created_time=None, description='Visible')] \u5982\u679c\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u89c6\u9891\u7684ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u89c6\u9891\u66f4\u591a\u4fe1\u606f: api . get_video_info ( \"969222676905304\" ) # Video(id='969222676905304', created_time='2020-09-12T09:53:06+0000', description='\u51ac\u65e5') api . get_videos ( ids = [ \"210174653594254\" , \"674270653053120\" ]) # {'210174653594254': Video(id='210174653594254', created_time='2020-03-31T08:13:14+0000', description='Snowing'), # '674270653053120': Video(id='674270653053120', created_time='2019-09-02T06:13:17+0000', description='Visible')} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61(\u4e3b\u9875\uff0c\u7528\u6237)\u7684ID\u83b7\u53d6\u8be5\u5bf9\u8c61\u7684\u76f8\u518c: api . get_albums_by_object ( \"instagram\" , count = 20 , limit = 15 ) # [Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')...] \u5982\u679c\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u76f8\u518c\u7684ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u76f8\u518c\u66f4\u591a\u4fe1\u606f: api . get_album_info ( \"372558296163354\" ) # Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247') api . get_albums ( ids = \"372558296163354,623202484432266\" ) # {'372558296163354': Album(id='372558296163354', created_time='2012-10-29T19:46:35+0000', name='\u65f6\u95f4\u7ebf\u7167\u7247'), # '623202484432266': Album(id='623202484432266', created_time='2014-04-12T15:28:26+0000', name='\u624b\u673a\u4e0a\u4f20')} \u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61(\u4e3b\u9875\uff0c\u7528\u6237)\u7684ID\u83b7\u53d6\u8be5\u5bf9\u8c61\u7684\u56fe\u7247: api . get_photos_by_object ( \"372558296163354\" , count = 10 , limit = 5 ) # [Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/'), # Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)...] \u5982\u679c\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u56fe\u7247\u7684ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u56fe\u7247\u66f4\u591a\u4fe1\u606f: api . get_photo_info ( \"3293405020745319\" ) # Photo(id='3293405020745319', created_time='2020-09-10T19:11:01+0000', name='Roller skating = Black joy for Travis Reynolds. \ud83d\udda4\\n\\nWatch our IGTV to catch some good vibes and see his \ud83d\udd25\ud83d\udd25\ud83d\udd25 tricks. \\n\\n#ShareBlackStories\\n\\nhttps://www.instagram.com/tv/CE9xgF3jwS_/') api . get_photos ( ids = [ \"3279789248773563\" , \"3276650595754095\" ]) # {'3279789248773563': Photo(id='3279789248773563', created_time='2020-09-06T16:23:17+0000', name='#HelloFrom Los Glaciares National Park, Argentina \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f\\n\\nhttps://www.instagram.com/p/CEzSoQNMdfH/'), # '3276650595754095': Photo(id='3276650595754095', created_time='2020-09-05T16:52:54+0000', name=None)} \u540c\u6837\u7684\u65b9\u5f0f\u53ef\u4ee5\u83b7\u53d6\u5230: \u76f4\u64ad\u89c6\u9891\u6570\u636e\uff0c\u4ee5\u53ca\u76f4\u64ad\u89c6\u9891\u7684\u6d41\u6570\u636e","title":"\u83b7\u53d6\u6570\u636e"},{"location":"previous-version/usage_zh/#instagram-graph-api","text":"Instagram \u56fe\u8c31 API \u53ef\u4ee5 instagram Professional accounts <https://help.instagram.com/502981923235522> _ (\u5546\u5bb6\u548c\u521b\u4f5c\u8005) \u7684\u6570\u636e\u3002","title":"Instagram Graph API"},{"location":"previous-version/usage_zh/#api_1","text":"\u548c Facebook \u7684\u56fe\u8c31 API \u7684\u7c7b\u4f3c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u6765\u521d\u59cb\u5316 Api\u3002\u4f46\u662f\u4f60\u53ea\u80fd\u4f7f\u7528\u7528\u6237\u8bbf\u95ee\u53e3\u4ee4\uff0c\u5e76\u4e14\u9700\u8981\u4f60\u7684\u5546\u52a1\u5e10\u53f7 ID\u3002 \u5982\u679c\u4f60\u60f3\u8981\u901a\u8fc7\u6388\u6743\u6765\u83b7\u53d6\u7528\u6237\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u6309\u7167 \u624b\u52a8\u6388\u6743 \u6765\u521d\u59cb\u5316 api\u3002 \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u77ed\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api: api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , short_token = \"short-lived token\" , instagram_business_id = \"17841406338772941\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id=\"token user id\") \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u957f\u671f\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u521d\u59cb\u5316 Api (\u6ce8\u610f\uff0c\u53ea\u63d0\u4f9b\u4e00\u4e2a long_term_token \u53c2\u6570\u5df2\u7ecf\u8db3\u4ee5\u521d\u59cb\u5316\uff0c\u5f53\u65f6\u4e3a\u4e86\u5b89\u5168\u5668\u4ef6\uff0c\u6700\u597d\u8fd8\u662f\u63d0\u4f9b\u4e00\u4e0b app \u7684\u8ba4\u8bc1\u6570\u636e): api = IgProApi ( app_id = \"your app id\" , app_secret = \"your app secret\" , long_term_token = \"long-lived token\" ) api . get_token_info () # AccessToken(app_id='id', application='app name', user_id='token user id')","title":"\u521d\u59cb\u5316 Api"},{"location":"previous-version/usage_zh/#_6","text":"\u5982\u679c\u4f60\u60f3\u8981\u641c\u7d22\u5176\u4ed6\u5546\u5bb6\u5e10\u53f7\u7684\u57fa\u7840\u6570\u636e\u548c\u5e16\u5b50\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7684\u65b9\u6cd5: discovery_user: \u83b7\u53d6\u7528\u6237\u7684\u57fa\u7840\u6570\u636e discovery_user_medias: \u83b7\u53d6\u7528\u6237\u7684\u5e16\u5b50 Note \u4f7f\u7528 discovery \u65b9\u6cd5\u8fdb\u884c\u641c\u7d22\u53ea\u652f\u6301\u4f7f\u7528\u7528\u6237\u540d \u901a\u8fc7\u5176\u4ed6\u5546\u5bb6\u7528\u6237\u7684\u7528\u6237\u540d\u6765\u83b7\u53d6\u57fa\u7840\u6570\u636e: api . discovery_user ( username = \"facebook\" ) # IgProUser(id='17841400455970028', name='Facebook', username='facebook') \u901a\u8fc7\u5176\u4ed6\u5546\u5bb6\u7528\u6237\u7684\u7528\u6237\u540d\u6765\u83b7\u53d6\u5e16\u5b50\u6570\u636e: api . discovery_user_medias ( username = \"facebook\" , count = 2 ) # [IgProMedia(comments=None, id='17859633232647524', permalink='https://www.instagram.com/p/B6jje2UnoH8/'), # IgProMedia(comments=None, id='18076151185161297', permalink='https://www.instagram.com/p/B6ji-PZH2V1/')] \u83b7\u53d6\u4f60\u7684\u5e10\u53f7\u7684\u4fe1\u606f: api . get_user_info ( user_id = \"your instagram business id\" ) # IgProUser(id='17841406338772941', name='LiuKun', username='ikroskun') \u83b7\u53d6\u4f60\u7684\u5e16\u5b50: api . get_user_medias ( user_id = api . instagram_business_id , count = 2 ) # [IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u5e16\u5b50\u7684 ID \u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u83b7\u53d6\u5e16\u5b50\u7684\u8be6\u60c5\u6570\u636e\u3002 \u83b7\u53d6\u5355\u4e2a\u5e16\u5b50\u7684\u8be6\u60c5\u4fe1\u606f: api . get_media_info ( media_id = \"18075344632131157\" ) # IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/') \u901a\u8fc7\u5355\u4e2a\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u5e16\u5b50\u7684\u8be6\u60c5\u6570\u636e: api . get_medias_info ( media_ids = [ \"18075344632131157\" , \"18027939643230671\" ]) # {'18075344632131157': IgProMedia(comments=None, id='18075344632131157', permalink='https://www.instagram.com/p/B38X8BzHsDi/'), # '18027939643230671': IgProMedia(comments=None, id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')} \u83b7\u53d6\u67d0\u4e2a\u5e16\u5b50\u7684\u8bc4\u8bba\u6570\u636e: api . get_comments_by_media ( media_id = \"17955956875141196\" , count = 2 ) # [IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u8bc4\u8bba\u7684\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u6765\u83b7\u53d6\u8bc4\u8bba\u8be6\u60c5\u3002 \u83b7\u53d6\u5355\u4e2a\u8bc4\u8bba\u7684\u8be6\u60c5: api . get_comment_info ( comment_id = \"17862949873623188\" ) # IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000') \u901a\u8fc7\u5355\u4e2a\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u8bc4\u8bba\u7684\u8be6\u60c5: api . get_comments_info ( comment_ids = [ \"17862949873623188\" , \"17844360649889631\" ]) # {'17862949873623188': IgProComment(id='17862949873623188', timestamp='2020-01-05T05:58:47+0000'), # '17844360649889631': IgProComment(id='17844360649889631', timestamp='2020-01-05T05:58:42+0000')} \u83b7\u53d6\u67d0\u4e2a\u8bc4\u8bba\u7684\u56de\u590d: api . get_replies_by_comment ( \"17984127178281340\" , count = 2 ) # [IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')] \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u8bc4\u8bba\u7684 ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u6cd5\u6765\u83b7\u53d6\u56de\u590d\u8be6\u60c5\u3002 \u83b7\u53d6\u5355\u4e2a\u8bc4\u8bba\u7684\u8be6\u60c5: api . get_reply_info ( reply_id = \"18107567341036926\" ) # IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000') \u901a\u8fc7\u5355\u4e2a\u8bf7\u6c42\u83b7\u53d6\u591a\u4e2a\u56de\u590d\u7684\u8be6\u60c5: api . get_replies_info ( reply_ids = [ \"18107567341036926\" , \"17846106427692294\" ]) # {'18107567341036926': IgProReply(id='18107567341036926', timestamp='2019-10-15T07:06:09+0000'), # '17846106427692294': IgProReply(id='17846106427692294', timestamp='2019-10-15T07:05:17+0000')} \u4f7f\u7528 get_user_insights \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u8d26\u53f7\u7684\u6388\u6743\u6570\u636e\u3002 \u5982\u679c\u4f60\u6709\u53e6\u4e00\u4e2a\u4e1a\u52a1\u8d26\u53f7\u7684\u6388\u6743\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u53c2\u6570\uff0c\u6765\u83b7\u53d6\u8be5\u8d26\u53f7\u7684\u6388\u6743\u6570\u636e\u3002 \u6216\u8005\u53ea\u83b7\u53d6\u4f60\u8d26\u53f7\u7684\u6388\u6743\u6570\u636e: api . get_user_insights ( user_id = api . instagram_business_id , period = \"day\" , metrics = [ \"impressions\" , \"reach\" ]) # [IgProInsight(name='impressions', period='day'), IgProInsight(name='reach', period='day')] \u4e0e get_user_insights \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u53c2\u6570\u6765\u83b7\u53d6\u5176\u4ed6\u4e1a\u52a1\u5e10\u53f7\u7684\u5e16\u5b50\u6388\u6743\u6570\u636e\u3002 \u6216\u8005\u83b7\u53d6\u4f60\u81ea\u5df1\u7684\u5e16\u5b50\u7684\u6388\u6743\u6570\u636e: api . get_media_insights ( media_id = \"media_id\" , metrics = [ \"engagement\" , \"impressions\" ]) # [IgProInsight(name='engagement', period='lifetime'), IgProInsight(name='impressions', period='lifetime')] \u641c\u7d22\u6807\u7b7e\u7684ID: api . search_hashtag ( q = \"love\" ) # [IgProHashtag(id='17843826142012701', name=None)] \u83b7\u53d6\u6807\u7b7e\u7684\u4fe1\u606f: api . get_hashtag_info ( hashtag_id = \"17843826142012701\" ) # IgProHashtag(id='17843826142012701', name='love') \u83b7\u53d6\u4f7f\u7528\u8be5\u6807\u7b7e\u7684\u6392\u540d\u8f83\u9ad8\u7684\u5e16\u5b50: api . get_hashtag_top_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18086291068155608', permalink='https://www.instagram.com/p/B8ielBPpHaw/'), # IgProMedia(comments=None, id='17935250359346228', permalink='https://www.instagram.com/p/B8icUmwoF0Y/'), # IgProMedia(comments=None, id='17847031435934181', permalink='https://www.instagram.com/p/B8icycxKEn-/'), # IgProMedia(comments=None, id='18000940699302502', permalink='https://www.instagram.com/p/B8ieNN7Cv6S/'), # IgProMedia(comments=None, id='18025516372248793', permalink='https://www.instagram.com/p/B8iduQJgSyO/')] \u83b7\u53d6\u4f7f\u7528\u8be5\u6807\u7b7e\u7684\u6700\u8fd1\u7684\u5e16\u5b50: api . get_hashtag_recent_medias ( hashtag_id = \"17843826142012701\" , count = 5 ) # [IgProMedia(comments=None, id='18128248021002097', permalink='https://www.instagram.com/p/B8ifnoWA5Ru/'), # IgProMedia(comments=None, id='18104579776105272', permalink='https://www.instagram.com/p/B8ifwfsgBw2/'), # IgProMedia(comments=None, id='17898846532442427', permalink='https://www.instagram.com/p/B8ifwZ4ltqP/'), # IgProMedia(comments=None, id='17891698510462453', permalink='https://www.instagram.com/p/B8ifwepgf_E/'), # IgProMedia(comments=None, id='17883544606492965', permalink='https://www.instagram.com/p/B8ifwabgiPf/')] \u5982\u679c\u4f60\u6709\u5176\u4ed6\u4e1a\u52a1\u53f7\u7684\u6388\u6743\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u6765\u83b7\u53d6\u5230\u8be5\u8d26\u53f7\u7684\u6807\u7b7e\u641c\u7d22\u8bb0\u5f55\uff0c \u6216\u8005\u83b7\u53d6\u4f60\u81ea\u5df1\u7684\u641c\u7d22\u8bb0\u5f55: api . get_user_recently_searched_hashtags ( user_id = \"17841406338772941\" ) # [IgProHashtag(id='17843826142012701', name='love'), IgProHashtag(id='17841562447105233', name='loveyou')] \u83b7\u53d6\u6807\u8bb0\u4e86\u7528\u6237\u7684\u5e16\u5b50\u3002\u5982\u679c\u4f60\u6709\u5176\u4ed6\u4e1a\u52a1\u8d26\u53f7\u7684\u6388\u6743\uff0c\u53ef\u4ee5\u6307\u5b9a user_id \u548c access_token \u6765\u83b7\u53d6\u5230\u6807\u8bb0\u8be5\u8d26\u53f7\u7684\u5e16\u6587\u3002 \u6216\u8005\u83b7\u53d6\u6807\u8bb0\u4f60\u81ea\u5df1\u8d26\u53f7\u7684\u5e16\u5b50: medias = api . get_tagged_user_medias ( user_id = api . instagram_business_id , count = 2 , limit = 5 ) # [IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/'), # IgProMedia(id='17846368219941692', permalink='https://www.instagram.com/p/B8gQCApHMT-/')] \u83b7\u53d6\u63d0\u5230\u4e86\u4f60\u7684\u8bc4\u8bba\u7684\u8be6\u60c5\u4fe1\u606f: api . get_mentioned_comment_info ( user_id = api . instagram_business_id , comment_id = \"17892250648466172\" ) # IgProComment(id='17892250648466172', timestamp='2020-02-24T09:15:16+0000') \u83b7\u53d6\u63d0\u5230\u4e86\u4f60\u7684\u5e16\u5b50\u7684\u8be6\u60c5\u4fe1\u606f: api . get_mentioned_media_info ( user_id = api . instagram_business_id , media_id = \"18027939643230671\" ) # IgProMedia(id='18027939643230671', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')","title":"\u83b7\u53d6\u6570\u636e"},{"location":"previous-version/usage_zh/#instagram-basic-api","text":"Instagram \u57fa\u672c\u663e\u793a API \u53ef\u4ee5\u7528\u6765\u8bbf\u95ee\u4efb\u4f55\u7c7b\u578b\u7684 Instagram \u8d26\u6237\uff0c\u4f46\u662f\u4ec5\u4ec5\u63d0\u4f9b\u5bf9\u57fa\u672c\u6570\u636e\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u4f7f\u7528\u8be5 API \u65f6\uff0c\u4f60\u9700\u8981\u9996\u5148\u8fdb\u884c\u6388\u6743\uff0c\u83b7\u53d6\u62e5\u6709\u8bbf\u95ee\u6570\u636e\u7684\u6743\u9650\u7684\u8bbf\u95ee\u53e3\u4ee4\u3002 \u6240\u6709\u7684\u6587\u6863\u4f60\u53ef\u4ee5\u4f60\u53ef\u4ee5\u8bbf\u95ee \u57fa\u672c\u663e\u793a API .","title":"Instagram Basic API"},{"location":"previous-version/usage_zh/#api_2","text":"\u73b0\u5728\u63d0\u4f9b\u4e09\u79cd\u65b9\u5f0f\u521d\u59cb\u5316 Api \u5b9e\u4f8b\u3002 \u5982\u679c\u4f60\u5df2\u7ecf\u62e5\u6709\u957f\u6548\u7684\u8bbf\u95ee\u53e3\u4ee4\u3002\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8be5\u8bbf\u95ee\u53e3\u4ee4\u8fdb\u884c\u521d\u59cb\u5316: from pyfacebook import IgBasicApi api = IgBasicApi ( long_term_token = \"token\" ) \u5982\u679c\u4f60\u6709\u77ed\u6548\u7684\u8bbf\u95ee\u53e3\u4ee4\uff0c\u4f60\u9700\u8981\u63d0\u4f9b\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u5bc6\u94a5\uff0c\u7528\u4ee5\u4ea4\u6362\u5230\u957f\u6548\u7684\u8bbf\u95ee\u53e3\u4ee4: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , short_token = \"token\" ) \u5982\u679c\u4f60\u53ea\u60f3\u8981\u4f7f\u7528\u5e94\u7528\u5bc6\u94a5\u521d\u59cb\u5316 Api\uff0c\u7136\u540e\u4ea4\u7531\u7528\u6237\u624b\u52a8\u8fdb\u884c\u6388\u6743\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u6388\u6743\u6d41\u7a0b: api = IgBasicApi ( app_id = \"app id\" , app_secret = \"app secret\" , initial_access_token = False ) api . get_authorization_url () # ('https://api.instagram.com/oauth/authorize?response_type=code&client_id=app+id&redirect_uri=https%3A%2F%2Flocalhost%2F&scope=user_profile+user_media&state=PyFacebook', 'PyFacebook') # give permission and copy the redirect full url. api . exchange_access_token ( response = \"the full url\" )","title":"\u521d\u59cb\u5316 Api"},{"location":"previous-version/usage_zh/#_7","text":"\u4f60\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684\u57fa\u7840\u4fe1\u606f: api . get_user_info () # IgBasicUser(id='17841406338772941', username='ikroskun') \u4f60\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684\u5e16\u5b50\u4fe1\u606f: api . get_user_medias () # [IgBasicMedia(id='17846368219941692', media_type='IMAGE', permalink='https://www.instagram.com/p/B8gQCApHMT-/'), # IgBasicMedia(id='17970645226046242', media_type='IMAGE', permalink='https://www.instagram.com/p/Bme0cU1giOH/')] \u4f60\u53ef\u4ee5\u83b7\u53d6\u5f53\u4e2a\u5e16\u5b50\u7684\u4fe1\u606f: api . get_media_info ( media_id = \"18027939643230671\" ) # IgBasicMedia(id='18027939643230671', media_type='CAROUSEL_ALBUM', permalink='https://www.instagram.com/p/B38Xyp6nqsS/')","title":"\u6570\u636e\u83b7\u53d6"},{"location":"previous-version/usage_zh/#todo","text":"","title":"TODO"},{"location":"previous-version/usage_zh/#_8","text":"Facebook\uff1a \u4e3b\u9875\u4fe1\u606f \u4e3b\u9875\u56fe\u7247\u4fe1\u606f \u5e16\u5b50\u6570\u636e \u8bc4\u8bba\u6570\u636e \u89c6\u9891\u6570\u636e \u76f8\u518c\u6570\u636e \u56fe\u7247\u6570\u636e Instagram\uff1a \u641c\u7d22\u5176\u4ed6\u4e1a\u52a1\u4e3b\u9875\u7684\u57fa\u7840\u4fe1\u606f\u548c\u5e16\u5b50 \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u57fa\u7840\u4fe1\u606f \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u5e16\u5b50\u4fe1\u606f \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u5e16\u5b50\u8bc4\u8bba\u6570\u636e \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u8bc4\u8bba\u7684\u56de\u590d\u6570\u636e \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7528\u6237\u7684 Insights \u6570\u636e \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u5e16\u5b50\u7684 Insights \u6570\u636e \u641c\u7d22\u6807\u7b7e ID \u83b7\u53d6\u6807\u7b7e\u4fe1\u606f \u83b7\u53d6\u6807\u7b7e\u4e0b\u6392\u540d\u9760\u524d\u7684\u5e16\u5b50 \u83b7\u53d6\u6807\u7b7e\u4e0b\u6700\u8fd1\u7684\u5e16\u5b50 \u83b7\u53d6\u6388\u6743\u4e1a\u52a1\u4e3b\u9875\u7684\u6807\u7b7e\u641c\u7d22\u8bb0\u5f55 \u83b7\u53d6\u6807\u8bb0\u4e86\u7528\u6237\u7684\u5e16\u6587 \u83b7\u53d6\u63d0\u5230\u4e86\u7528\u6237\u7684\u8bc4\u8bba\u4fe1\u606f \u83b7\u53d6\u63d0\u5230\u4e86\u7528\u6237\u7684\u5e16\u5b50\u4fe1\u606f Instagram \u57fa\u7840\u663e\u793a API: \u83b7\u53d6\u7528\u6237\u4fe1\u606f \u83b7\u53d6\u7684\u7528\u6237\u7684\u5e16\u5b50 \u83b7\u53d6\u5e16\u5b50\u7684\u8be6\u60c5","title":"\u5f53\u524d\u7684\u529f\u80fd"},{"location":"previous-version/usage_zh/#_9","text":"\u53d1\u5e03\u5e16\u5b50","title":"\u5f85\u505a"},{"location":"usage/graph-api/","text":"Introduction This library provides a simpler service to help developers access Facebook's Graph API. Here, we will help to use base class GraphAPI to get data from Facebook. How to use Initial API Once you have access token, you can use it to initial the GraphAPI class. As for the Security docs . You may need provide your app credential to generate appsecret_proof to verify Graph API calls. from pyfacebook import GraphAPI api = GraphAPI ( app_id = \"Your app id\" , app_secret = \"Your app secret\" , access_token = \"Your access token\" , ) The access token can be User Access Token , App Access Token or Page Access Token , and this depending on the data type what you need. After initial API. Now we can access facebook api with this API. Methods You can get data of an object, such as page,post,photo and so on. api . get_object ( object_id = \"108824017345866\" ) # {'name': 'Meta', 'id': '108824017345866'} You can get the data of some objects. api . get_objects ( ids = \"108824017345866,20531316728\" ) # {'108824017345866': {'name': 'Meta', 'id': '108824017345866'}, '20531316728': {'name': 'Facebook App', 'id': '20531316728'}} If you want to get data for an object's edge. For example, a User node can have photos connected to it, and a Photo node can have comments connected to it. api . get_connection ( object_id = \"20531316728\" , connection = \"posts\" ) # {'data': [{'created_time': '2021-11-26T20:01:40+0000', 'message': \"Do Black Friday right with the #BuyBlack Friday Show! For the finale, host Elaine Welteroth will be talking with Sir Darius Brown, the owner of Beaux and Paws. We'll also have special guests D-Nice, Iddris Sandu., and Jaden Smith! Join this fun shop-a-thon in partnership with Meta for Business \\n\\nShop directly on [Beaux and Paws] Facebook page so you can get your pet looking proper. fb.me/buyblackfri\", 'story': 'Facebook App was live.', 'id': '20531316728_3789869301238646'}], 'paging': {'cursors': {'before': 'before', 'after': 'after'}, 'next': 'https://graph.facebook.com/v12.0/20531316728/posts?access_token=access_token&limit=1&after=after'}} If you want to get all data for an object's edge. Auto paging inside. api . get_full_connections ( object_id = \"20531316728\" , connection = \"posts\" ) # {'data': [{'created_time': '2021-11-26T20:01:40+0000', 'message': \"Do Black Friday right with the #BuyBlack Friday Show! For the finale, host Elaine Welteroth will be talking with Sir Darius Brown, the owner of Beaux and Paws. We'll also have special guests D-Nice, Iddris Sandu., and Jaden Smith! Join this fun shop-a-thon in partnership with Meta for Business \\n\\nShop directly on [Beaux and Paws] Facebook page so you can get your pet looking proper. fb.me/buyblackfri\", 'story': 'Facebook App was live.', 'id': '20531316728_3789869301238646'}], 'paging': {'cursors': {'before': 'before', 'after': 'after'}, 'next': 'https://graph.facebook.com/v12.0/20531316728/posts?access_token=access_token&limit=1&after=after'}} If you have permissions to publish data. you can use post to create data. api . post_object ( object_id = \"2121008874780932_404879271158877\" , connection = \"comments\" , data = { \"message\" : \"Comment by the api\" }) # {'id': '404879271158877_405046241142180'} If you have permissions to delete data. api . delete_object ( object_id = \"404879271158877_405046241142180\" ) # {'success': True}","title":"Graph API"},{"location":"usage/graph-api/#introduction","text":"This library provides a simpler service to help developers access Facebook's Graph API. Here, we will help to use base class GraphAPI to get data from Facebook.","title":"Introduction"},{"location":"usage/graph-api/#how-to-use","text":"","title":"How to use"},{"location":"usage/graph-api/#initial-api","text":"Once you have access token, you can use it to initial the GraphAPI class. As for the Security docs . You may need provide your app credential to generate appsecret_proof to verify Graph API calls. from pyfacebook import GraphAPI api = GraphAPI ( app_id = \"Your app id\" , app_secret = \"Your app secret\" , access_token = \"Your access token\" , ) The access token can be User Access Token , App Access Token or Page Access Token , and this depending on the data type what you need. After initial API. Now we can access facebook api with this API.","title":"Initial API"},{"location":"usage/graph-api/#methods","text":"You can get data of an object, such as page,post,photo and so on. api . get_object ( object_id = \"108824017345866\" ) # {'name': 'Meta', 'id': '108824017345866'} You can get the data of some objects. api . get_objects ( ids = \"108824017345866,20531316728\" ) # {'108824017345866': {'name': 'Meta', 'id': '108824017345866'}, '20531316728': {'name': 'Facebook App', 'id': '20531316728'}} If you want to get data for an object's edge. For example, a User node can have photos connected to it, and a Photo node can have comments connected to it. api . get_connection ( object_id = \"20531316728\" , connection = \"posts\" ) # {'data': [{'created_time': '2021-11-26T20:01:40+0000', 'message': \"Do Black Friday right with the #BuyBlack Friday Show! For the finale, host Elaine Welteroth will be talking with Sir Darius Brown, the owner of Beaux and Paws. We'll also have special guests D-Nice, Iddris Sandu., and Jaden Smith! Join this fun shop-a-thon in partnership with Meta for Business \\n\\nShop directly on [Beaux and Paws] Facebook page so you can get your pet looking proper. fb.me/buyblackfri\", 'story': 'Facebook App was live.', 'id': '20531316728_3789869301238646'}], 'paging': {'cursors': {'before': 'before', 'after': 'after'}, 'next': 'https://graph.facebook.com/v12.0/20531316728/posts?access_token=access_token&limit=1&after=after'}} If you want to get all data for an object's edge. Auto paging inside. api . get_full_connections ( object_id = \"20531316728\" , connection = \"posts\" ) # {'data': [{'created_time': '2021-11-26T20:01:40+0000', 'message': \"Do Black Friday right with the #BuyBlack Friday Show! For the finale, host Elaine Welteroth will be talking with Sir Darius Brown, the owner of Beaux and Paws. We'll also have special guests D-Nice, Iddris Sandu., and Jaden Smith! Join this fun shop-a-thon in partnership with Meta for Business \\n\\nShop directly on [Beaux and Paws] Facebook page so you can get your pet looking proper. fb.me/buyblackfri\", 'story': 'Facebook App was live.', 'id': '20531316728_3789869301238646'}], 'paging': {'cursors': {'before': 'before', 'after': 'after'}, 'next': 'https://graph.facebook.com/v12.0/20531316728/posts?access_token=access_token&limit=1&after=after'}} If you have permissions to publish data. you can use post to create data. api . post_object ( object_id = \"2121008874780932_404879271158877\" , connection = \"comments\" , data = { \"message\" : \"Comment by the api\" }) # {'id': '404879271158877_405046241142180'} If you have permissions to delete data. api . delete_object ( object_id = \"404879271158877_405046241142180\" ) # {'success': True}","title":"Methods"},{"location":"usage/server-send-events/","text":"Introduction Server-Sent Events allows you to receive real-time updates for live video comments and reactions. It uses the Server-Sent Events (SSE) web standard to send real-time, continuous data streams to browser clients, once an initial client connection has been established. More detail you can see docs . Here, we give a simple example to show how to implement it by this library. How to use Custom data handler You need override on_data method to handle the data. As follows, we just print the real data from facebook. import json from pyfacebook import ServerSentEventAPI class MyEvent ( ServerSentEventAPI ): def on_data ( self , data ): raw_data : str = data . decode () data = json . loads ( raw_data [ 5 :]) print ( f \"Comment Data: { data } \" ) Connect the server Then you can connect the facebook server to get pushed data. event_api = MyEvent ( access_token = \"Your access token\" ) event_api . live_comments ( live_video_id = \"ID for the live video\" , fields = \"from{id,name},message\" ) # output # Comment Data: {'id': '611384697233703_2059142704258615', 'created_time': '2022-08-31T10:03:00+0000', 'from': {'id': '100621042235323', 'name': 'HeyJoklena'}, 'message': 'hello sse', 'object': {'description': 'section 1, 1, 2', 'updated_time': '2022-08-31T10:03:00+0000', 'id': '611384697233703'}} # Comment Data: {'id': '611384697233703_1165171867677765', 'created_time': '2022-08-31T10:03:29+0000', 'from': {'id': '100621042235323', 'name': 'HeyJoklena'}, 'message': 'sse is nice', 'object': {'description': 'section 1, 1, 2', 'updated_time': '2022-08-31T10:03:00+0000', 'id': '611384697233703'}} Now if the live video has new comment, you will see the comment output.","title":"Server-Sent Events"},{"location":"usage/server-send-events/#introduction","text":"Server-Sent Events allows you to receive real-time updates for live video comments and reactions. It uses the Server-Sent Events (SSE) web standard to send real-time, continuous data streams to browser clients, once an initial client connection has been established. More detail you can see docs . Here, we give a simple example to show how to implement it by this library.","title":"Introduction"},{"location":"usage/server-send-events/#how-to-use","text":"","title":"How to use"},{"location":"usage/server-send-events/#custom-data-handler","text":"You need override on_data method to handle the data. As follows, we just print the real data from facebook. import json from pyfacebook import ServerSentEventAPI class MyEvent ( ServerSentEventAPI ): def on_data ( self , data ): raw_data : str = data . decode () data = json . loads ( raw_data [ 5 :]) print ( f \"Comment Data: { data } \" )","title":"Custom data handler"},{"location":"usage/server-send-events/#connect-the-server","text":"Then you can connect the facebook server to get pushed data. event_api = MyEvent ( access_token = \"Your access token\" ) event_api . live_comments ( live_video_id = \"ID for the live video\" , fields = \"from{id,name},message\" ) # output # Comment Data: {'id': '611384697233703_2059142704258615', 'created_time': '2022-08-31T10:03:00+0000', 'from': {'id': '100621042235323', 'name': 'HeyJoklena'}, 'message': 'hello sse', 'object': {'description': 'section 1, 1, 2', 'updated_time': '2022-08-31T10:03:00+0000', 'id': '611384697233703'}} # Comment Data: {'id': '611384697233703_1165171867677765', 'created_time': '2022-08-31T10:03:29+0000', 'from': {'id': '100621042235323', 'name': 'HeyJoklena'}, 'message': 'sse is nice', 'object': {'description': 'section 1, 1, 2', 'updated_time': '2022-08-31T10:03:00+0000', 'id': '611384697233703'}} Now if the live video has new comment, you will see the comment output.","title":"Connect the server"}]}